{"version":3,"sources":["styles/addBook.module.scss","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","components/AddBook/AddBook.js"],"names":["module","exports","_toConsumableArray","arr","Array","isArray","arrayLikeToArray","iter","Symbol","iterator","Object","from","unsupportedIterableToArray","TypeError","AddBook","state","title","author","year","cat","genre","description","sample","public","redirect","id","addBook","event","url","adresse","headers","Authorization","getUser","token","preventDefault","fetch","method","body","JSON","stringify","then","response","ok","json","data","setState","addCat","array","target","value","ar","Set","handleChangeGenre","handleChangePublic","this","splice","to","onSubmit","name","type","onChange","multiple","className","classes","categoriesContainer","map","category","index","Category","key","onClick","deleteCategory","Component"],"mappings":"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","file":"static/js/8.6a523938.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Category\":\"addBook_Category__dlvdX\",\"categoriesContainer\":\"addBook_categoriesContainer__2Gkjs\",\"frameContainer\":\"addBook_frameContainer__oVIwQ\",\"fileAdd\":\"addBook_fileAdd__a2Xcg\",\"inptsContainer\":\"addBook_inptsContainer__2wgYG\",\"fileSbmt\":\"addBook_fileSbmt__1c8NE\",\"buttonContainer\":\"addBook_buttonContainer__2ol1t\",\"writingContainer\":\"addBook_writingContainer__2eQ8r\",\"newChapContainer\":\"addBook_newChapContainer__2ShKR\",\"delAkapit\":\"addBook_delAkapit__2jk60\",\"oneUp\":\"addBook_oneUp__xAl5_\",\"oneDown\":\"addBook_oneDown__M38nc\",\"BackgroundForBook\":\"addBook_BackgroundForBook__13gGK\"};","import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import React, { Component } from \"react\";\nimport { adresse } from \"../../config\";\nimport classes from \"../../styles/addBook.module.scss\";\nimport { getUser } from \"../../services/auth\";\nimport { Redirect } from \"react-router-dom\";\n\nclass AddBook extends Component {\n  state = {\n    title: \"\",\n    author: \"\",\n    year: \"\",\n    cat: [],\n    genre: \"\",\n    description: \"\",\n    sample: \"\",\n    public: true,\n    redirect: false,\n    id: \"\",\n  };\n\n  addBook = (event) => {\n    const url = `${adresse}/books/add`;\n    const headers = {\n      \"Content-Type\": \"application/json\",\n      Authorization: \"Bearer \" + getUser().token,\n    };\n    event.preventDefault();\n    fetch(url, {\n      method: \"POST\",\n      headers: headers,\n      body: JSON.stringify(this.state),\n    })\n      .then((response) => {\n        if (!response.ok) {\n          event.preventDefault();\n        }\n        return response.json();\n      })\n      .then((data) => {\n        this.setState({ redirect: true, id: data.id });\n      });\n  };\n\n  addCat = (event) => {\n    let array = [...this.state.cat];\n    array = [...array, event.target.value];\n    const ar = [...new Set(array)];\n    this.setState({ cat: ar });\n  };\n\n  handleChangeGenre = (event) => {\n    this.setState({ genre: event.target.value });\n  };\n\n  handleChangePublic = (event) => {\n    event.target.value == \"true\"\n      ? this.setState({ public: true })\n      : this.setState({ public: false });\n  };\n\n  deleteCategory(id) {\n    let cat = this.state.cat;\n    cat.splice(id, 1);\n    this.setState({ cat });\n  }\n\n  render() {\n    if (this.state.redirect === true) {\n      return <Redirect to={`/myBooks/${this.state.id}/addBookCover`} />;\n    }\n    return (\n      <div>\n        <h1>Dodaj książkę</h1>\n        <form method=\"post\" onSubmit={this.addBook}>\n          <label>\n            <span>Tytuł</span>\n            <input\n              name=\"title\"\n              type=\"text\"\n              onChange={(event) => this.setState({ title: event.target.value })}\n              value={this.state.title}\n            />\n          </label>\n          <label>\n            <span>Autor</span>\n            <input\n              name=\"author\"\n              type=\"text\"\n              onChange={(event) =>\n                this.setState({ author: event.target.value })\n              }\n              value={this.state.author}\n            />\n          </label>\n          <label>\n            <span>Rok powstania</span>\n            <input\n              name=\"year\"\n              type=\"text\"\n              onChange={(event) => this.setState({ year: event.target.value })}\n              value={this.state.year}\n            />\n          </label>\n          <label>\n            <span>Streszczenie</span>\n            <textarea\n              name=\"description\"\n              onChange={(event) =>\n                this.setState({ description: event.target.value })\n              }\n              value={this.state.description}\n            />\n          </label>\n          <label>\n            <span>Próbka tekstu</span>\n            <textarea\n              name=\"sample\"\n              onChange={(event) =>\n                this.setState({ sample: event.target.value })\n              }\n              value={this.state.sample}\n            />\n          </label>\n          <label>\n            <span>Gatunek</span>\n            <select value={this.state.genre} onChange={this.handleChangeGenre}>\n              <option value=\"\"></option>\n              <option value=\"kryminał\">Kryminał</option>\n              <option value=\"powieść psychologiczna\">\n                Powieść psychologiczna\n              </option>\n              <option value=\"powieść romantyczna\">Powieść romantyczna</option>\n              <option value=\"powieść obyczajowa\">Powieść obyczajowa</option>\n              <option value=\"eseje\">Eseje</option>\n              <option value=\"thriller\">Thriller</option>\n              <option value=\"powieść humorystyczna\">\n                Powieść humorystycza\n              </option>\n              <option value=\"horror\">Horror</option>\n              <option value=\"si-fi\">Si-Fi</option>\n              <option value=\"fantastyka\">Fantastyka</option>\n              <option value=\"literatura faktu\">Literatura faktu</option>\n              <option value=\"dla dzieci i młodzieży\">\n                Dla dzieci i młodzieży\n              </option>\n            </select>\n          </label>\n          <label>\n            <span>Kategoria</span>\n            <select\n              multiple={true}\n              value={this.state.cat}\n              onChange={this.addCat}\n            >\n              <option value=\"czytadło\">czytadło</option>\n              <option value=\"nowela\">nowela</option>\n              <option value=\"borgesowska\">borgesowska</option>\n              <option value=\"realizm magiczny\">realizm magiczny</option>\n              <option value=\"opera mydlana\">opera mydlana</option>\n              <option value=\"dekadencja\">dekadencja</option>\n              <option value=\"romantyzm\">romantyzm</option>\n              <option value=\"klasycznie\">klasycznie</option>\n              <option value=\"cyberpunk\">cyberpunk</option>\n              <option value=\"przy świecy\">przy świecy</option>\n              <option value=\"kropla drąży skałę\">kropla drąży skałę</option>\n              <option value=\"brutalna\">brutalna</option>\n              <option value=\"abstrakcja\">abstrakcja</option>\n              <option value=\"kości zostały rzucone\">\n                kości zostały rzucone\n              </option>\n            </select>\n          </label>\n          <div className={classes.categoriesContainer}>\n            {this.state.cat.map((category, index) => (\n              <span className={classes.Category} key={index}>\n                #{category}{\" \"}\n                <strong onClick={() => this.deleteCategory(index)}>× </strong>{\" \"}\n              </span>\n            ))}\n          </div>\n          <label>\n            <span>Ogólnodostępna?</span>\n            <select\n              value={this.state.public}\n              onChange={this.handleChangePublic}\n            >\n              <option value=\"true\">Tak</option>\n              <option value=\"false\">Nie</option>\n            </select>\n          </label>\n\n          <input type=\"submit\" value=\"Opublikuj\" />\n        </form>\n      </div>\n    );\n  }\n}\nexport default AddBook;\n"],"sourceRoot":""}