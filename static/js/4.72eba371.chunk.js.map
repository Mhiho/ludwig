{"version":3,"sources":["styles/mypoems.module.scss","styles/login.module.scss","styles/search.module.scss","_components/SearchPoem.js","components/Poems/Poems.js"],"names":["module","exports","SearchPoem","state","term","data","limit","error","event","preventDefault","fetch","adresse","this","then","response","json","setState","length","console","log","onSubmit","handleSubmit","className","classes","searchContainer","classes2","emailInp","searchInp","type","value","onChange","target","emailField","resultsField","Component","Poems","useState","setIsLoading","poems","setPoems","poemNr","setPoemNr","opacity","setOpacity","fetchPoems","a","axios","get","shuffled","sort","Math","random","shuffledFive","slice","setTimeout","useEffect","ContainerPoem","NewPoemBtn","onClick","Poem","Opacity","to","id","title","author"],"mappings":"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","file":"static/js/4.72eba371.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"mypoems_Container__33Gd_\",\"Poem\":\"mypoems_Poem__peHnm\",\"Opacity\":\"mypoems_Opacity___BPts\",\"opacity\":\"mypoems_opacity__329wk\",\"Frame\":\"mypoems_Frame__1bQ5k\",\"addAkaBtn\":\"mypoems_addAkaBtn__ZkuB-\",\"addLine\":\"mypoems_addLine__3lCU6\",\"goBackBtn\":\"mypoems_goBackBtn__1bXlS\",\"deleteBtn\":\"mypoems_deleteBtn__Sgj7X\",\"Akapit\":\"mypoems_Akapit__-AIiE\",\"Line\":\"mypoems_Line__2aOFC\",\"NewPoemBtn\":\"mypoems_NewPoemBtn__3_GoL\",\"ContainerPoem\":\"mypoems_ContainerPoem__1iUfi\",\"ContainerReading\":\"mypoems_ContainerReading__3EHwV\",\"MyPoem\":\"mypoems_MyPoem__KLae-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"submitContainer\":\"login_submitContainer__2DVxR\",\"signUpButton\":\"login_signUpButton__8sgdX\",\"pageTitle\":\"login_pageTitle__1NHe2\",\"pageTitleHomePage\":\"login_pageTitleHomePage__37je0\",\"emailInp\":\"login_emailInp__2JpwB\",\"emailField\":\"login_emailField__1AQWh\",\"marginLogin\":\"login_marginLogin__pEOjC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"resultsField\":\"search_resultsField__3d-Yr\",\"result\":\"search_result__3iyve\",\"searchContainer\":\"search_searchContainer__1quUV\",\"searchInp\":\"search_searchInp__Un9lJ\"};","import React, {Component} from 'react'\nimport {adresse} from '../config'\nimport classes from '../styles/search.module.scss'\nimport classes2 from '../styles/login.module.scss'\n\nclass SearchPoem extends Component {\n\n    state={\n        term: '',\n        data: [],\n        limit: 5,\n        error: ''\n    }\n    handleSubmit(event){\n        event.preventDefault()\n        \n        fetch(`${adresse}poems/poemSearch?term=${this.state.term}&limit=${this.state.limit}`)\n            .then(response => response.json())\n            .then(data => {this.setState({ data: data })\n            if(this.state.data.length === 0){\n                this.setState({error: 'Nie znaleziono żadnej pozycji.'})\n            } else {\n                this.setState({error: ''})\n            }       \n    });\n\n    }\n    render(){\n        console.log(this.state.term)\n        console.log(this.state.data)\n        return(\n            <div>\n                <form onSubmit={(event) =>this.handleSubmit(event)}>\n                    <div className={classes.searchContainer}>\n                       <input \n                        className={`${classes2.emailInp} ${classes.searchInp}`}\n                        type=\"text\"\n                        value={this.state.term}\n                        onChange={(event)=> this.setState({term: event.target.value})}\n                       />\n\n                       <input \n                        className={classes2.emailField}\n                        value=\"szukaj\"\n                        type=\"submit\"\n                       />\n                    </div>\n                </form>\n                <div className={classes.resultsField}>\n                     <h2> {this.state.error}</h2>\n            \n\n                 {/* {this.state.data.map((poem,index)=>(\n                    <div key={index} className={classes.result}>\n                        <span>tytuł:&nbsp;<h4>{poem.title}</h4></span>\n                        <span>autor:&nbsp;<h4>{poem.author}</h4></span>\n                        <span>gatunek:&nbsp;<h5>{poem.genre}</h5></span>\n                        <span>rok publikacji:&nbsp;<h5>{poem.year}</h5></span>\n                    </div>\n                 ))} */}\n                \n                </div>\n            </div>\n        )\n    }\n}\n\nexport default SearchPoem","import React, { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { adresse } from \"../../config\";\nimport classes from \"../../styles/mypoems.module.scss\";\nimport loading from \"../../styles/app.module.scss\";\nimport SearchPoem from \"../../_components/SearchPoem\";\nimport axios from \"axios\";\nimport { useDispatch, useSelectors } from \"react-redux\";\n\nconst Poems = () => {\n  const [isLoading, setIsLoading] = useState(true);\n  const [poems, setPoems] = useState([]);\n  const [poemNr, setPoemNr] = useState(0);\n  const [opacity, setOpacity] = useState(false);\n  const [panel, setPanel] = useState([false, false, false, false, false]);\n  const [showEmpty, setShowEmpty] = useState(false);\n\n  const fetchPoems = async () => {\n    const response = await axios.get(`${adresse}/poems/all`);\n\n    const shuffled = response.data.sort(() => 0.5 - Math.random());\n    const shuffledFive = shuffled.slice(0, 5);\n    setPoems(shuffledFive);\n    // if (poemNr === 0) {\n    //     console.log('start')\n    //     setOpacity(true)\n    // }\n    if (shuffledFive.length > 0) {\n      setIsLoading(false);\n    }\n    if (opacity === true) {\n      setTimeout(function () {\n        setOpacity(false);\n      }, 300);\n    }\n  };\n\n  useEffect(() => {\n    fetchPoems();\n  }, [poemNr]);\n\n  const change = () => {\n    if (poemNr >= 3) {\n      setTimeout(function () {\n        setPoemNr(0);\n      }, 1000);\n      setOpacity(true);\n    } else {\n      setTimeout(function () {\n        setPoemNr(poemNr + 1);\n      }, 1000);\n      setOpacity(true);\n    }\n  };\n  return (\n    <div>\n      <div className={classes.ContainerPoem}>\n        <div>\n          <button\n            className={classes.NewPoemBtn}\n            onClick={opacity ? null : () => change()}\n          >\n            Przeglądaj dalej\n          </button>\n          {poems.length === 0 ? null : (\n            <div\n              className={\n                opacity !== true\n                  ? `${classes.Poem}`\n                  : `${classes.Poem} ${classes.Opacity}`\n              }\n            >\n              <Link to={`/poemReading/${poems[poemNr].id}`}>\n                <h3>{poems[poemNr].title}</h3>\n                <h4>{poems[poemNr].author}</h4>\n              </Link>\n            </div>\n          )}\n        </div>\n      </div>\n      <SearchPoem />\n    </div>\n  );\n};\n\nexport default Poems;\n"],"sourceRoot":""}