(this.webpackJsonpvanessa=this.webpackJsonpvanessa||[]).push([[5],{100:function(e,t,a){e.exports={Container:"mypoems_Container__33Gd_",Poem:"mypoems_Poem__peHnm",Opacity:"mypoems_Opacity___BPts",opacity:"mypoems_opacity__329wk",Frame:"mypoems_Frame__1bQ5k",addAkaBtn:"mypoems_addAkaBtn__ZkuB-",addLine:"mypoems_addLine__3lCU6",goBackBtn:"mypoems_goBackBtn__1bXlS",deleteBtn:"mypoems_deleteBtn__Sgj7X",Akapit:"mypoems_Akapit__-AIiE",Line:"mypoems_Line__2aOFC",NewPoemBtn:"mypoems_NewPoemBtn__3_GoL",ContainerPoem:"mypoems_ContainerPoem__1iUfi",ContainerReading:"mypoems_ContainerReading__3EHwV",MyPoem:"mypoems_MyPoem__KLae-"}},101:function(e,t,a){e.exports={submitContainer:"login_submitContainer__2DVxR",signUpButton:"login_signUpButton__8sgdX",pageTitle:"login_pageTitle__1NHe2",pageTitleHomePage:"login_pageTitleHomePage__37je0",emailInp:"login_emailInp__2JpwB",emailField:"login_emailField__1AQWh",marginLogin:"login_marginLogin__pEOjC"}},105:function(e,t,a){e.exports={resultsField:"search_resultsField__3d-Yr",result:"search_result__3iyve",searchContainer:"search_searchContainer__1quUV",searchInp:"search_searchInp__Un9lJ"}},125:function(e,t,a){"use strict";a.r(t);var n=a(21),o=a(22),i=a(24),s=a(23),r=a(25),c=a(0),m=a.n(c),l=a(2),p=a(16),u=a(100),_=a.n(u),h=(a(26),a(105)),d=a.n(h),y=a(101),g=a.n(y),f=function(e){function t(){var e,a;Object(n.a)(this,t);for(var o=arguments.length,r=new Array(o),c=0;c<o;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).state={term:"",data:[],limit:5,error:""},a}return Object(r.a)(t,e),Object(o.a)(t,[{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),fetch("".concat(p.a,"poems/poemSearch?term=").concat(this.state.term,"&limit=").concat(this.state.limit)).then((function(e){return e.json()})).then((function(e){t.setState({data:e}),0===t.state.data.length?t.setState({error:"Nie znaleziono \u017cadnej pozycji."}):t.setState({error:""})}))}},{key:"render",value:function(){var e=this;return console.log(this.state.term),console.log(this.state.data),m.a.createElement("div",null,m.a.createElement("form",{onSubmit:function(t){return e.handleSubmit(t)}},m.a.createElement("div",{className:d.a.searchContainer},m.a.createElement("input",{className:"".concat(g.a.emailInp," ").concat(d.a.searchInp),type:"text",value:this.state.term,onChange:function(t){return e.setState({term:t.target.value})}}),m.a.createElement("input",{className:g.a.emailField,value:"szukaj",type:"submit"}))),m.a.createElement("div",{className:d.a.resultsField},m.a.createElement("h2",null," ",this.state.error)))}}]),t}(c.Component),v=function(e){function t(){var e,a;Object(n.a)(this,t);for(var o=arguments.length,r=new Array(o),c=0;c<o;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).state={isLoading:!0,poems:void 0,poemNr:0,opacity:!1,panel:[!1,!1,!1,!1,!1],showEmpty:!1},a}return Object(r.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("".concat(p.a,"poems/all")).then((function(e){return e.json()})).then((function(t){var a=t.sort((function(){return.5-Math.random()})).slice(0,5);e.setState({poems:a},(function(){e.setState({isLoading:!1})}))}))}},{key:"change",value:function(){var e=this;this.state.poemNr>=3?(setTimeout((function(){e.setState({poemNr:0})}),1e3),this.setState({opacity:!0})):(setTimeout((function(){e.setState({poemNr:e.state.poemNr+1})}),1e3),this.setState({opacity:!0}))}},{key:"componentDidUpdate",value:function(e,t){var a=this;t.opacity!==this.state.opacity&&setTimeout((function(){a.setState({opacity:!1})}),2e3)}},{key:"render",value:function(){var e=this;return m.a.createElement("div",null,m.a.createElement("div",{className:_.a.ContainerPoem},m.a.createElement("div",null,m.a.createElement("button",{className:_.a.NewPoemBtn,onClick:this.state.opacity?null:function(){return e.change()}},"Przegl\u0105daj dalej"),void 0!==this.state.poems?m.a.createElement("div",{className:!0!==this.state.opacity?"".concat(_.a.Poem):"".concat(_.a.Poem," ").concat(_.a.Opacity)},m.a.createElement(l.b,{to:"/poemReading/".concat(this.state.poems[this.state.poemNr].id)},m.a.createElement("h3",null,this.state.poems[this.state.poemNr].title),m.a.createElement("h4",null,this.state.poems[this.state.poemNr].author))):null)),m.a.createElement(f,null))}}]),t}(c.Component);t.default=v}}]);
//# sourceMappingURL=5.c79f5677.chunk.js.map