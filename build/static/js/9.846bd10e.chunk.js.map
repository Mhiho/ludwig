{"version":3,"sources":["components/AddBook/AddBook.js","styles/addBook.module.scss","../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js"],"names":["AddBook","state","title","author","year","cat","genre","description","sample","public","redirect","id","addBook","event","url","adresse","headers","getUser","token","preventDefault","fetch","method","body","JSON","stringify","then","response","ok","json","data","setState","addCat","array","target","value","ar","Set","handleChangeGenre","handleChangePublic","this","splice","to","onSubmit","name","type","onChange","multiple","className","classes","categoriesContainer","map","category","index","Category","key","onClick","deleteCategory","Component","module","exports","_toConsumableArray","arr","Array","isArray","i","arr2","length","iter","Symbol","iterator","Object","prototype","toString","call","from","TypeError"],"mappings":"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","file":"static/js/9.846bd10e.chunk.js","sourcesContent":["import React,{Component} from 'react'\nimport { adresse } from '../../config';\nimport classes from '../../styles/addBook.module.scss'\nimport {getUser} from '../../services/auth'\nimport {Redirect} from 'react-router-dom'\n\nclass AddBook extends Component {\n\n  state = {\n    title: '',\n    author: '',\n    year: '',\n    cat: [],\n    genre: '',\n    description: '',\n    sample: '',\n    public: true,\n    redirect: false,\n    id: ''\n  }\n  \n addBook = (event) => {\n\n   const url = `${adresse}books/add`\n   const headers = { 'Content-Type': 'application/json',\n   'Authorization': 'Bearer ' + `${getUser().token}`\n   }\n   event.preventDefault()\n  fetch(url,{\n    method: \"POST\",\n    headers: headers,\n    body: JSON.stringify(this.state)\n  }).then(response=> {\n    if(!response.ok){\n      event.preventDefault()\n    }\n    return response.json()\n  })\n    .then(data => {\n      this.setState({redirect: true,\n                    id: data.id})\n    \n    })\n }\n\n\n  addCat = event => {\n    let array = [...this.state.cat]\n    array = [...array, event.target.value]\n    const ar = [...new Set(array)]\n    this.setState({cat: ar})\n  }\n  \n  handleChangeGenre = event =>  {\n    this.setState({genre: event.target.value})\n  }\n\n\n  handleChangePublic = (event) => {\n   event.target.value == 'true' ? this.setState({public: true}) : this.setState({public: false})\n  }\n\n  deleteCategory(id) {\n    let cat = this.state.cat\n    cat.splice(id,1)\n    this.setState({cat})\n  }\n    \n  render(){\n      if(this.state.redirect === true){\n        return <Redirect to={`/myBooks/${this.state.id}/addBookCover`} />\n      }\n      return(\n        <div>\n            <h1>Dodaj książkę</h1>\n            <form \n                method=\"post\"\n                onSubmit={this.addBook}\n            >\n              <label>\n                <span>Tytuł</span>\n                <input \n                 name=\"title\"\n                 type=\"text\"\n                 onChange={event => this.setState({title: event.target.value})}\n                 value={this.state.title}\n                  />\n                </label>\n                <label>\n                <span>Autor</span>\n                <input \n                 name=\"author\"\n                 type=\"text\"\n                 onChange={event => this.setState({author: event.target.value})}\n                 value={this.state.author}\n                  />\n                </label>\n                <label>\n                <span>Rok powstania</span>\n                <input \n                 name=\"year\"\n                 type=\"text\"\n                 onChange={event => this.setState({year: event.target.value})}\n                 value={this.state.year}\n                  />\n                </label>\n                <label>\n                <span>Streszczenie</span>    \n                <textarea\n                 name=\"description\"\n                 onChange={event => this.setState({description: event.target.value})}\n                 value={this.state.description}\n                  />\n                </label>\n                <label>\n                <span>Próbka tekstu</span>   \n                <textarea\n                 name=\"sample\"\n                 onChange={event => this.setState({sample: event.target.value})}\n                 value={this.state.sample}\n                  />\n                </label>\n                <label>\n                  <span>Gatunek</span>\n                  <select value={this.state.genre} onChange={this.handleChangeGenre}>\n                    <option value=\"\"></option>\n                    <option value=\"kryminał\">Kryminał</option>\n                    <option value=\"powieść psychologiczna\">Powieść psychologiczna</option>\n                    <option value=\"powieść romantyczna\">Powieść romantyczna</option>\n                    <option value=\"powieść obyczajowa\">Powieść obyczajowa</option>\n                    <option value=\"eseje\">Eseje</option>\n                    <option value=\"thriller\">Thriller</option>\n                    <option value=\"powieść humorystyczna\">Powieść humorystycza</option>\n                    <option value=\"horror\">Horror</option>\n                    <option value=\"si-fi\">Si-Fi</option>\n                    <option value=\"fantastyka\">Fantastyka</option>\n                    <option value=\"literatura faktu\">Literatura faktu</option>\n                    <option value=\"dla dzieci i młodzieży\">Dla dzieci i młodzieży</option>\n                  </select>\n                </label>\n                <label>\n                  <span>Kategoria</span>\n                  <select multiple={true} value={this.state.cat} onChange={this.addCat}>\n                    <option value=\"czytadło\">czytadło</option>\n                    <option value=\"nowela\">nowela</option>\n                    <option value=\"borgesowska\">borgesowska</option>\n                    <option value=\"realizm magiczny\">realizm magiczny</option>\n                    <option value=\"opera mydlana\">opera mydlana</option>\n                    <option value=\"dekadencja\">dekadencja</option>\n                    <option value=\"romantyzm\">romantyzm</option>\n                    <option value=\"klasycznie\">klasycznie</option>\n                    <option value=\"cyberpunk\">cyberpunk</option>\n                    <option value=\"przy świecy\">przy świecy</option>\n                    <option value=\"kropla drąży skałę\">kropla drąży skałę</option>\n                    <option value=\"brutalna\">brutalna</option>\n                    <option value=\"abstrakcja\">abstrakcja</option>\n                    <option value=\"kości zostały rzucone\">kości zostały rzucone</option>\n                  </select>\n                </label>\n                <div className={classes.categoriesContainer}>\n                  {\n                    this.state.cat.map((category,index) => (<span className={classes.Category} key={index}>#{category} <strong onClick={()=>this.deleteCategory(index)}>× </strong> </span>))\n                  }  \n                </div>\n                  <label>\n                    <span>Ogólnodostępna?</span>\n                    <select value={this.state.public} onChange={this.handleChangePublic}>\n                      <option value=\"true\">Tak</option>\n                      <option value=\"false\">Nie</option>\n                    </select>\n                  </label>\n                 \n                <input\n                    type=\"submit\"\n                    value=\"Opublikuj\"\n                />\n            </form>\n\n        </div>\n      )\n    }\n  }\nexport default AddBook","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Category\":\"addBook_Category__dlvdX\",\"categoriesContainer\":\"addBook_categoriesContainer__2Gkjs\",\"frameContainer\":\"addBook_frameContainer__oVIwQ\",\"fileAdd\":\"addBook_fileAdd__a2Xcg\",\"inptsContainer\":\"addBook_inptsContainer__2wgYG\",\"fileSbmt\":\"addBook_fileSbmt__1c8NE\",\"buttonContainer\":\"addBook_buttonContainer__2ol1t\",\"writingContainer\":\"addBook_writingContainer__2eQ8r\",\"newChapContainer\":\"addBook_newChapContainer__2ShKR\",\"delAkapit\":\"addBook_delAkapit__2jk60\",\"oneUp\":\"addBook_oneUp__xAl5_\",\"oneDown\":\"addBook_oneDown__M38nc\",\"BackgroundForBook\":\"addBook_BackgroundForBook__13gGK\"};","import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}","export default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}","export default function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}"],"sourceRoot":""}