(this.webpackJsonpvanessa=this.webpackJsonpvanessa||[]).push([[16],{112:function(t,e,a){t.exports={Slider:"books_Slider__2MA9y",Slide:"books_Slide__3w9SK",Credits:"books_Credits__29Kb1",Description:"books_Description__P1rIz",Buttons:"books_Buttons__cSqRC",left:"books_left__1Un_s",right:"books_right__FWvtJ",slideLeft:"books_slideLeft__2Bc5t",slideRight:"books_slideRight__3RaJK",opacity:"books_opacity__1TjoB",nonopacity:"books_nonopacity__QT6_4",nopacity:"books_nopacity__3okSQ",title:"books_title__MxAxl",upTitle:"books_upTitle__2ZpsP",upPanel:"books_upPanel__2e8ZB",panel:"books_panel__3oqO5",changeSlideCircle:"books_changeSlideCircle__1k6S2",Cover:"books_Cover__18ka7",activeCircle:"books_activeCircle__GqskM"}},126:function(t,e,a){"use strict";a.r(e);var i=a(21),s=a(22),n=a(24),o=a(23),l=a(0),c=a.n(l),r=a(2),d=a(28),h=a(112),u=a.n(h),_=(a(54),a(35)),p=a.n(_),k=function(t){Object(n.a)(a,t);var e=Object(o.a)(a);function a(){var t;Object(i.a)(this,a);for(var s=arguments.length,n=new Array(s),o=0;o<s;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n)))._isMounted=!1,t.state={isLoading:!0,books:[],url:null,leftUrl:null,rightUrl:null,id:0,opacity:!1,panel:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],showEmpty:!1},t}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var t=this;this._isMounted=!0;var e=function(t){var e="";return[].slice.call(new Uint8Array(t)).forEach((function(t){return e+=String.fromCharCode(t)})),window.btoa(e)};fetch("".concat(d.a,"books/all")).then((function(t){return t.json()})).then((function(a){var i=a.sort((function(){return.5-Math.random()})).slice(0,10);t.setState({books:i},(function(){void 0!==t.state.books[t.state.id].coverUrl&&t.setState({url:e(t.state.books[t.state.id].coverUrl.data),opacity:!0},(function(){t.setState({isLoading:!1})}))}))}));var a=this.state.panel;a[this.state.id]=!0,this.setState({panel:a})}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"componentDidUpdate",value:function(t,e){if(e.id!==this.state.id&&!1===this.state.opacity&&this.setState({opacity:!0}),e.id!==this.state.id&&void 0!==this.state.books[this.state.id].url&&this.setState({url:function(t){var e="";return[].slice.call(new Uint8Array(t)).forEach((function(t){return e+=String.fromCharCode(t)})),window.btoa(e)}(this.state.books[this.state.id].url.data)}),e.id!==this.state.id&&void 0===this.state.books[this.state.id].url&&this.setState({url:null}),e.id!==this.state.id){var a=[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1];a[this.state.id]=!0,this.setState({panel:a})}}},{key:"narrowLeft",value:function(){this.state.id<=0?this.setState({id:this.state.books.length-1}):this.setState({id:this.state.id-1,opacity:!1})}},{key:"narrowRight",value:function(){this.state.id>=this.state.books.length-1?this.setState({id:0}):this.setState({id:this.state.id+1,opacity:!1})}},{key:"changeSlide",value:function(t){this.setState({id:t})}},{key:"render",value:function(){var t=this;return console.log(this.state.books[this.state.id]),!0===this.state.isLoading?c.a.createElement("div",{style:{marginTop:"-180px",width:"100vw",height:"100vh",display:"flex",justifyContent:"center",alignItems:"center"}},c.a.createElement("div",{className:p.a.loader})):c.a.createElement("div",{className:u.a.Container},c.a.createElement("div",{className:u.a.Buttons},c.a.createElement("span",{className:u.a.left,onClick:function(){return t.narrowLeft()}},"\u2190"),c.a.createElement("span",{className:u.a.right,onClick:function(){return t.narrowRight()}},"\u2192")),c.a.createElement("div",null,c.a.createElement("div",{className:u.a.Slider},c.a.createElement("div",{className:u.a.Cover},c.a.createElement(r.b,{to:"/sample/".concat(this.state.books[this.state.id].id)},c.a.createElement("img",{className:this.state.opacity?"".concat(u.a.opacity," ").concat(u.a.Slide):"".concat(u.a.Slide),src:this.state.url?"data:image/jpeg;base64,"+this.state.url:null}),c.a.createElement("div",{className:u.a.upTitle},c.a.createElement("p",{className:u.a.title},0==this.state.books.length?null:this.state.books[this.state.id].title))),c.a.createElement("div",{className:u.a.upPanel}," ",c.a.createElement("div",{className:u.a.panel}," ",this.state.books.map((function(e,a){return c.a.createElement("span",{className:!1===t.state.panel[a]?"".concat(u.a.changeSlideCircle):"".concat(u.a.changeSlideCircle," ").concat(u.a.activeCircle),onClick:function(){return t.changeSlide(a)}},"\u25cb")}))," "))))))}}]),a}(l.Component);e.default=k}}]);
//# sourceMappingURL=16.011426ce.chunk.js.map