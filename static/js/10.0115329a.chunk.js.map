{"version":3,"sources":["styles/addBook.module.scss","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","components/AddPoem/AddPoem.js"],"names":["module","exports","_toConsumableArray","arr","Array","isArray","arrayLikeToArray","iter","Symbol","iterator","Object","from","unsupportedIterableToArray","TypeError","AddPoem","state","title","author","year","categories","description","redirect","id","poem","akapits","lines","addPoem","event","url","adresse","headers","getUser","token","preventDefault","fetch","method","body","JSON","stringify","then","response","ok","console","log","json","data","setState","addCat","array","target","value","ar","Set","cat","this","splice","to","onSubmit","name","type","onChange","multiple","className","classes","categoriesContainer","map","category","index","Category","key","onClick","deleteCategory","Component"],"mappings":"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","file":"static/js/10.0115329a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Category\":\"addBook_Category__dlvdX\",\"categoriesContainer\":\"addBook_categoriesContainer__2Gkjs\",\"frameContainer\":\"addBook_frameContainer__oVIwQ\",\"fileAdd\":\"addBook_fileAdd__a2Xcg\",\"inptsContainer\":\"addBook_inptsContainer__2wgYG\",\"fileSbmt\":\"addBook_fileSbmt__1c8NE\",\"buttonContainer\":\"addBook_buttonContainer__2ol1t\",\"writingContainer\":\"addBook_writingContainer__2eQ8r\",\"newChapContainer\":\"addBook_newChapContainer__2ShKR\",\"delAkapit\":\"addBook_delAkapit__2jk60\",\"oneUp\":\"addBook_oneUp__xAl5_\",\"oneDown\":\"addBook_oneDown__M38nc\",\"BackgroundForBook\":\"addBook_BackgroundForBook__13gGK\"};","import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import React,{Component} from 'react'\nimport { adresse } from '../../config';\nimport classes from '../../styles/addBook.module.scss'\nimport {getUser} from '../../services/auth'\nimport {Redirect} from 'react-router-dom'\n\nclass AddPoem extends Component{\n\n    state = {\n        title: '',\n        author: '',\n        year: '',\n        categories: [],\n        description: '',\n        redirect: false,\n        id: '',\n        poem: {akapits: [{lines: []}]}\n    }\n\n    addPoem = (event) => {\n        const url = `${adresse}poems/add`\n        const headers = { 'Content-Type': 'application/json',\n        'Authorization': 'Bearer ' + `${getUser().token}`\n        }\n        event.preventDefault()\n       fetch(url,{\n         method: \"POST\",\n         headers: headers,\n         body: JSON.stringify(this.state)\n       }).then(response=> {\n         if(!response.ok){\n             console.log('fock')\n           event.preventDefault()\n         }\n         return response.json()\n       })\n         .then(data => {\n           this.setState({redirect: true,\n                         id: data.id})\n         \n         })\n      }\n      addCat = event => {\n        let array = [...this.state.categories]\n        array = [...array, event.target.value]\n        const ar = [...new Set(array)]\n        this.setState({categories: ar})\n      }\n      deleteCategory(id) {\n        let cat = this.state.categories\n        cat.splice(id,1)\n        this.setState({categories: cat})\n      }\n\n    \n    render(){\n        console.log(this.state)\n        if(this.state.redirect === true){\n            return <Redirect to={`/addBody/${this.state.id}`} />\n          }\n        return (\n            <div>\n            <h1>Dodaj wiersz</h1>\n            <form \n                method=\"post\"\n                onSubmit={this.addPoem}\n            >\n              <label>\n                <span>Tytuł</span>\n                <input \n                 name=\"title\"\n                 type=\"text\"\n                 onChange={event => this.setState({title: event.target.value})}\n                 value={this.state.title}\n                  />\n                </label>\n\n                <label>\n                <span>Autor</span>\n                <input \n                 name=\"author\"\n                 type=\"text\"\n                 onChange={event => this.setState({author: event.target.value})}\n                 value={this.state.author}\n                  />\n                </label>\n                <label>\n                <span>Rok powstania</span>\n                <input \n                 name=\"year\"\n                 type=\"text\"\n                 onChange={event => this.setState({year: event.target.value})}\n                 value={this.state.year}\n                  />\n                </label>\n                <label>\n                <span>Opis wiersza (okoliczności powstania, ciekawostki)</span>    \n                <textarea\n                 name=\"description\"\n                 onChange={event => this.setState({description: event.target.value})}\n                 value={this.state.description}\n                  />\n                </label>\n                <label>\n                  <span>Kategoria</span>\n                  <select multiple={true} value={this.state.categories} onChange={this.addCat}>\n                    <option value=\"miłość\">miłość</option>\n                    <option value=\"nienawiść\">nienawiść</option>\n                    <option value=\"smutek\">smutek</option>\n                    <option value=\"złość\">złość</option>\n                    <option value=\"radość\">radość</option>\n                    <option value=\"romantyk\">romantyk</option>\n                    <option value=\"klasycznie\">klasycznie</option>\n                    <option value=\"prawda\">prawda</option>\n                    <option value=\"Bóg\">Bóg</option>\n                    <option value=\"relacje\">relacje</option>\n                    <option value=\"ambiwalencja\">ambiwalencja</option>\n                    <option value=\"dziwny\">dziwny</option>\n                    <option value=\"abstrakcja\">abstrakcja</option>\n                    <option value=\"gorycz\">gorycz</option>\n                    <option value=\"pochwała życia\">pochwała życia</option>\n                  </select>\n                </label>\n                <div className={classes.categoriesContainer}>\n                  {\n                    this.state.categories.map((category,index) => (<span className={classes.Category} key={index}>#{category} <strong onClick={()=>this.deleteCategory(index)}>× </strong> </span>))\n                  }  \n                </div>\n                <input\n                    type=\"submit\"\n                    value=\"Opublikuj\"\n                />\n            </form>\n\n        </div>\n        )\n    }\n}\n\nexport default AddPoem"],"sourceRoot":""}