(this.webpackJsonpvanessa=this.webpackJsonpvanessa||[]).push([[15],{132:function(t,e,a){t.exports={Slider:"books_Slider__2MA9y",Slide:"books_Slide__3w9SK",Credits:"books_Credits__29Kb1",Description:"books_Description__P1rIz",Buttons:"books_Buttons__cSqRC",left:"books_left__1Un_s",right:"books_right__FWvtJ",slideLeft:"books_slideLeft__2Bc5t",slideRight:"books_slideRight__3RaJK",opacity:"books_opacity__1TjoB",nonopacity:"books_nonopacity__QT6_4",nopacity:"books_nopacity__3okSQ",title:"books_title__MxAxl",upTitle:"books_upTitle__2ZpsP",upPanel:"books_upPanel__2e8ZB",panel:"books_panel__3oqO5",changeSlideCircle:"books_changeSlideCircle__1k6S2",Cover:"books_Cover__18ka7",activeCircle:"books_activeCircle__GqskM"}},148:function(t,e,a){"use strict";a.r(e);var o=a(15),n=a.n(o),s=a(22),i=a(30),c=a(31),r=a(33),l=a(32),p=a(0),_=a.n(p),h=a(16),u=a(9),d=a(132),k=a.n(d),b=a(26),f=a(49),v=a.n(f),g=a(17),m=a(52),y=a(53),C=function(t){Object(r.a)(a,t);var e=Object(l.a)(a);function a(){var t;Object(i.a)(this,a);for(var o=arguments.length,n=new Array(o),s=0;s<o;s++)n[s]=arguments[s];return(t=e.call.apply(e,[this].concat(n))).state={id:null,book:{},loading:!0,purchased:!1,chapterNr:null},t}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var t=Object(s.a)(n.a.mark((function t(){var e,a,o,s,i,c,r,l,p=this;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.props.fetchCheckpoints();case 2:return t.next=4,this.props.match.params;case 4:return e=t.sent,a=e.id,this.setState({id:a}),o=this.props.checkpoints.checkpoints.find((function(t){return t.bookId===p.state.id})),s=o.checkpointCh,this.setState({chapterNr:s}),console.log(this.state.chapterNr),i="".concat(h.a,"/books/gatePurchased/").concat(this.state.id),c={"Content-Type":"application/json",Authorization:"Bearer "+Object(g.a)().token},t.next=15,b.a.get(i,{headers:c});case 15:return r=t.sent,this.setState({purchased:r.data.flag}),t.next=19,b.a.get("".concat(h.a,"/books/sample/").concat(this.state.id));case 19:l=t.sent,this.setState({book:l.data},(function(){p.setState({loading:!1})}));case 21:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.loading?_.a.createElement("div",{style:{marginTop:"-180px",width:"100vw",height:"100vh",display:"flex",justifyContent:"center",alignItems:"center"}},_.a.createElement("div",{className:v.a.loader})):_.a.createElement("div",null,_.a.createElement("div",null,void 0!==this.state.book?this.state.book.sample:"Autor nie doda\u0142 jeszcze pr\xf3bki swojej ksi\u0105\u017cki"),_.a.createElement(u.b,{to:this.state.purchased?"/".concat(this.state.id,"/reading/").concat(this.state.chapterNr):"/"},_.a.createElement("button",{className:k.a.btnChaptitle},"Czytaj dalej")))}}]),a}(p.Component);e.default=Object(m.b)((function(t){return{checkpoints:t.checkpointsReadingState}}),(function(t){return{fetchCheckpoints:function(){return t(Object(y.b)())}}}))(C)}}]);
//# sourceMappingURL=15.98fa6867.chunk.js.map