(this.webpackJsonpvanessa=this.webpackJsonpvanessa||[]).push([[13],{117:function(e,t,a){e.exports={Category:"addBook_Category__dlvdX",categoriesContainer:"addBook_categoriesContainer__2Gkjs",frameContainer:"addBook_frameContainer__oVIwQ",fileAdd:"addBook_fileAdd__a2Xcg",inptsContainer:"addBook_inptsContainer__2wgYG",fileSbmt:"addBook_fileSbmt__1c8NE",buttonContainer:"addBook_buttonContainer__2ol1t",writingContainer:"addBook_writingContainer__2eQ8r",newChapContainer:"addBook_newChapContainer__2ShKR",delAkapit:"addBook_delAkapit__2jk60",oneUp:"addBook_oneUp__xAl5_",oneDown:"addBook_oneDown__M38nc",BackgroundForBook:"addBook_BackgroundForBook__13gGK"}},137:function(e,t,a){"use strict";a.r(t);var n=a(24),o=a(25),r=a(27),i=a(26),c=a(0),s=a.n(c),d=a(32),l=a(33),m=a(117),p=a.n(m),u=a(7),_=a.n(u),g=a(62),f=a.n(g),h=a(61),k=a.n(h),v=a(17),C=function(e){Object(r.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(n.a)(this,a);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={file:"file",preview:null,id:"",sent:!1,error:"",btnCt:"",redirect:!1},e.addImg=function(t){t.preventDefault();var a="".concat(d.a,"books/mine/addImage/").concat(e.state.id),n={"content-type":"formData",Authorization:"Bearer "+"".concat(Object(l.a)().token)},o=new FormData(t.target);o.append("booksImages",e.state.file.name),f.a.post(a,o,{headers:n}).then((function(t){e.setState({sent:!0,error:""})})).catch((function(t){console.log(t),e.setState({sent:!1,error:"Co\u015b posz\u0142o nie tak. Zdj\u0119cie musi by\u0107 w formacie png lub jpg i mie\u0107 nie wi\u0119cej ni\u017c 1 Mb."})}))},e.goFurther=function(){!0===e.state.sent?e.setState({redirect:!0}):e.setState({error:"Zdj\u0119cie musi by\u0107 dodane"})},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;this.setState({id:e})}},{key:"handleImageChange",value:function(e){var t=this;e.preventDefault();var a=new FileReader,n=e.target.files[0];a.onloadend=function(){t.setState({file:n,preview:a.result})},a.readAsDataURL(n)}},{key:"render",value:function(){var e=this;return!0===this.state.redirect?s.a.createElement(v.a,{to:"/myBooks/".concat(this.state.id,"/writing")}):s.a.createElement("div",null,s.a.createElement("div",{style:{color:"red",width:"100%",height:"50px"}},this.state.error),s.a.createElement("form",{onSubmit:function(t){return e.addImg(t)}},s.a.createElement("div",{className:p.a.inptsContainer},s.a.createElement("input",{className:"".concat(p.a.fileAdd," ").concat(p.a.inpt),name:"booksImages",accept:"image/png, image/jpeg, image/jpg",type:"file",onChange:function(t){return e.handleImageChange(t)}}),s.a.createElement("input",{className:"".concat(p.a.inpt," ").concat(p.a.fileSbmt),type:"submit",value:"Prze\u015blij"}))),s.a.createElement("div",{className:p.a.buttonContainer},s.a.createElement("button",{onClick:this.goFurther,className:_.a.typicalBtn},"Chc\u0119 przej\u015b\u0107 do pisania!")),s.a.createElement("div",{className:p.a.frameContainer},this.state.preview?s.a.createElement("img",{src:this.state.preview}):s.a.createElement("img",{src:k.a})))}}]),a}(c.Component);t.default=C}}]);
//# sourceMappingURL=13.0962dead.chunk.js.map