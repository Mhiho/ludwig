(this.webpackJsonpvanessa=this.webpackJsonpvanessa||[]).push([[10],{119:function(e,t,a){"use strict";a.r(t);var n=a(98),o=a(21),r=a(22),i=a(24),l=a(23),c=a(25),s=a(0),u=a.n(s),d=a(16),p=a(97),m=a.n(p),g=a(10),h=a(12),v=function(e){function t(){var e,a;Object(o.a)(this,t);for(var r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(c)))).state={title:"",author:"",year:"",categories:[],description:"",redirect:!1,id:"",poem:{akapits:[{lines:[]}]}},a.addPoem=function(e){var t="".concat(d.a,"poems/add"),n={"Content-Type":"application/json",Authorization:"Bearer "+"".concat(Object(g.a)().token)};e.preventDefault(),fetch(t,{method:"POST",headers:n,body:JSON.stringify(a.state)}).then((function(t){return t.ok||(console.log("fock"),e.preventDefault()),t.json()})).then((function(e){a.setState({redirect:!0,id:e.id})}))},a.addCat=function(e){var t=Object(n.a)(a.state.categories);t=[].concat(Object(n.a)(t),[e.target.value]);var o=Object(n.a)(new Set(t));a.setState({categories:o})},a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"deleteCategory",value:function(e){var t=this.state.categories;t.splice(e,1),this.setState({categories:t})}},{key:"render",value:function(){var e=this;return console.log(this.state),!0===this.state.redirect?u.a.createElement(h.a,{to:"/addBody/".concat(this.state.id)}):u.a.createElement("div",null,u.a.createElement("h1",null,"Dodaj wiersz"),u.a.createElement("form",{method:"post",onSubmit:this.addPoem},u.a.createElement("label",null,u.a.createElement("span",null,"Tytu\u0142"),u.a.createElement("input",{name:"title",type:"text",onChange:function(t){return e.setState({title:t.target.value})},value:this.state.title})),u.a.createElement("label",null,u.a.createElement("span",null,"Autor"),u.a.createElement("input",{name:"author",type:"text",onChange:function(t){return e.setState({author:t.target.value})},value:this.state.author})),u.a.createElement("label",null,u.a.createElement("span",null,"Rok powstania"),u.a.createElement("input",{name:"year",type:"text",onChange:function(t){return e.setState({year:t.target.value})},value:this.state.year})),u.a.createElement("label",null,u.a.createElement("span",null,"Opis wiersza (okoliczno\u015bci powstania, ciekawostki)"),u.a.createElement("textarea",{name:"description",onChange:function(t){return e.setState({description:t.target.value})},value:this.state.description})),u.a.createElement("label",null,u.a.createElement("span",null,"Kategoria"),u.a.createElement("select",{multiple:!0,value:this.state.categories,onChange:this.addCat},u.a.createElement("option",{value:"mi\u0142o\u015b\u0107"},"mi\u0142o\u015b\u0107"),u.a.createElement("option",{value:"nienawi\u015b\u0107"},"nienawi\u015b\u0107"),u.a.createElement("option",{value:"smutek"},"smutek"),u.a.createElement("option",{value:"z\u0142o\u015b\u0107"},"z\u0142o\u015b\u0107"),u.a.createElement("option",{value:"rado\u015b\u0107"},"rado\u015b\u0107"),u.a.createElement("option",{value:"romantyk"},"romantyk"),u.a.createElement("option",{value:"klasycznie"},"klasycznie"),u.a.createElement("option",{value:"prawda"},"prawda"),u.a.createElement("option",{value:"B\xf3g"},"B\xf3g"),u.a.createElement("option",{value:"relacje"},"relacje"),u.a.createElement("option",{value:"ambiwalencja"},"ambiwalencja"),u.a.createElement("option",{value:"dziwny"},"dziwny"),u.a.createElement("option",{value:"abstrakcja"},"abstrakcja"),u.a.createElement("option",{value:"gorycz"},"gorycz"),u.a.createElement("option",{value:"pochwa\u0142a \u017cycia"},"pochwa\u0142a \u017cycia"))),u.a.createElement("div",{className:m.a.categoriesContainer},this.state.categories.map((function(t,a){return u.a.createElement("span",{className:m.a.Category,key:a},"#",t," ",u.a.createElement("strong",{onClick:function(){return e.deleteCategory(a)}},"\xd7 ")," ")}))),u.a.createElement("input",{type:"submit",value:"Opublikuj"})))}}]),t}(s.Component);t.default=v},97:function(e,t,a){e.exports={Category:"addBook_Category__dlvdX",categoriesContainer:"addBook_categoriesContainer__2Gkjs",frameContainer:"addBook_frameContainer__oVIwQ",fileAdd:"addBook_fileAdd__a2Xcg",inptsContainer:"addBook_inptsContainer__2wgYG",fileSbmt:"addBook_fileSbmt__1c8NE",buttonContainer:"addBook_buttonContainer__2ol1t",writingContainer:"addBook_writingContainer__2eQ8r",newChapContainer:"addBook_newChapContainer__2ShKR",delAkapit:"addBook_delAkapit__2jk60",oneUp:"addBook_oneUp__xAl5_",oneDown:"addBook_oneDown__M38nc",BackgroundForBook:"addBook_BackgroundForBook__13gGK"}},98:function(e,t,a){"use strict";function n(e){return function(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}a.d(t,"a",(function(){return n}))}}]);
//# sourceMappingURL=10.72b45130.chunk.js.map