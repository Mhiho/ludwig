{"version":3,"sources":["styles/mypoems.module.scss","components/MyPoems/MyPoems.js"],"names":["module","exports","MyPoems","_isMounted","state","isLoading","poems","this","url","adresse","headers","Authorization","getUser","token","fetch","then","response","json","setState","style","marginTop","width","height","display","justifyContent","alignItems","className","loading","loader","classes","Frame","to","Container","map","poem","index","key","id","Item","MyPoem","title","Component"],"mappings":"wFACAA,EAAOC,QAAU,CAAC,UAAY,2BAA2B,KAAO,sBAAsB,QAAU,yBAAyB,QAAU,yBAAyB,MAAQ,uBAAuB,UAAY,2BAA2B,QAAU,yBAAyB,UAAY,2BAA2B,UAAY,2BAA2B,OAAS,wBAAwB,KAAO,sBAAsB,WAAa,4BAA4B,cAAgB,+BAA+B,iBAAmB,kCAAkC,OAAS,wBAAwB,YAAc,+B,sJCMvkBC,E,4MACJC,YAAa,E,EACbC,MAAQ,CACNC,WAAW,EACXC,MAAO,I,kEAEY,IAAD,OAClBC,KAAKJ,YAAa,EAClB,IAAMK,EAAG,UAAMC,IAAN,eACHC,EAAU,CACd,eAAgB,mBAChBC,cAAe,UAAYC,cAAUC,OAEvCC,MAAMN,EAAK,CACTE,QAASA,IAERK,MAAK,SAACC,GAAD,OAAcA,EAASC,UAC5BF,MAAK,SAACT,GACL,EAAKY,SAAS,CAAEZ,MAAOA,IAAS,WAC9B,EAAKY,SAAS,CAAEb,WAAW,Y,6CAKjCE,KAAKJ,YAAa,I,+BAGlB,OAA6B,IAAzBI,KAAKH,MAAMC,UAEX,yBACEc,MAAO,CACLC,UAAW,SACXC,MAAO,QACPC,OAAQ,QACRC,QAAS,OACTC,eAAgB,SAChBC,WAAY,WAGd,yBAAKC,UAAWC,IAAQC,UAK5B,yBAAKF,UAAWG,IAAQC,OACtB,kBAAC,IAAD,CAAMC,GAAG,YACP,mDAEF,yBAAKL,UAAWG,IAAQG,WACtB,+EAEGzB,KAAKH,MAAME,MAAM2B,KAAI,SAACC,EAAMC,GAAP,OACpB,kBAAC,IAAD,CACEC,IAAKF,EAAKG,GACVX,UAAWG,IAAQS,KACnBP,GAAE,kBAAaG,EAAKG,KAEpB,yBAAKX,UAAWG,IAAQU,QACtB,2BACE,8BAAOJ,EAAQ,EAAf,MACCD,EAAKM,mB,GA5DJC,aAwEPvC","file":"static/js/19.f350a868.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"mypoems_Container__33Gd_\",\"Poem\":\"mypoems_Poem__peHnm\",\"Opacity\":\"mypoems_Opacity___BPts\",\"opacity\":\"mypoems_opacity__329wk\",\"Frame\":\"mypoems_Frame__1bQ5k\",\"addAkaBtn\":\"mypoems_addAkaBtn__ZkuB-\",\"addLine\":\"mypoems_addLine__3lCU6\",\"goBackBtn\":\"mypoems_goBackBtn__1bXlS\",\"deleteBtn\":\"mypoems_deleteBtn__Sgj7X\",\"Akapit\":\"mypoems_Akapit__-AIiE\",\"Line\":\"mypoems_Line__2aOFC\",\"NewPoemBtn\":\"mypoems_NewPoemBtn__3_GoL\",\"ContainerPoem\":\"mypoems_ContainerPoem__1iUfi\",\"ContainerReading\":\"mypoems_ContainerReading__3EHwV\",\"MyPoem\":\"mypoems_MyPoem__KLae-\",\"progressBar\":\"mypoems_progressBar__3ULVK\"};","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { adresse } from \"../../config\";\nimport { getUser } from \"../../services/auth\";\nimport classes from \"../../styles/mypoems.module.scss\";\nimport loading from \"../../styles/app.module.scss\";\n\nclass MyPoems extends Component {\n  _isMounted = false;\n  state = {\n    isLoading: true,\n    poems: [],\n  };\n  componentDidMount() {\n    this._isMounted = true;\n    const url = `${adresse}/poems/mine`;\n    const headers = {\n      \"Content-Type\": \"application/json\",\n      Authorization: \"Bearer \" + getUser().token,\n    };\n    fetch(url, {\n      headers: headers,\n    })\n      .then((response) => response.json())\n      .then((poems) => {\n        this.setState({ poems: poems }, () => {\n          this.setState({ isLoading: false });\n        });\n      });\n  }\n  componentWillUnmount() {\n    this._isMounted = false;\n  }\n  render() {\n    if (this.state.isLoading === true) {\n      return (\n        <div\n          style={{\n            marginTop: \"-180px\",\n            width: \"100vw\",\n            height: \"100vh\",\n            display: \"flex\",\n            justifyContent: \"center\",\n            alignItems: \"center\",\n          }}\n        >\n          <div className={loading.loader}></div>\n        </div>\n      );\n    }\n    return (\n      <div className={classes.Frame}>\n        <Link to=\"/addPoem\">\n          <h2>Dodaj nowy wiersz!</h2>\n        </Link>\n        <div className={classes.Container}>\n          <div>\n            Kliknij na tytuł, żeby edytować:\n            {this.state.poems.map((poem, index) => (\n              <Link\n                key={poem.id}\n                className={classes.Item}\n                to={`addBody/${poem.id}`}\n              >\n                <div className={classes.MyPoem}>\n                  <p>\n                    <span>{index + 1}. </span>\n                    {poem.title}\n                  </p>\n                </div>\n              </Link>\n            ))}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default MyPoems;\n"],"sourceRoot":""}