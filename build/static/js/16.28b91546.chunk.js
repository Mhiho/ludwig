(this.webpackJsonpvanessa=this.webpackJsonpvanessa||[]).push([[16],{102:function(t,e,a){t.exports={Slider:"books_Slider__2MA9y",Slide:"books_Slide__3w9SK",Credits:"books_Credits__29Kb1",Description:"books_Description__P1rIz",Buttons:"books_Buttons__cSqRC",left:"books_left__1Un_s",right:"books_right__FWvtJ",slideLeft:"books_slideLeft__2Bc5t",slideRight:"books_slideRight__3RaJK",opacity:"books_opacity__1TjoB",nonopacity:"books_nonopacity__QT6_4",nopacity:"books_nopacity__3okSQ",title:"books_title__MxAxl",upTitle:"books_upTitle__2ZpsP",upPanel:"books_upPanel__2e8ZB",panel:"books_panel__3oqO5",changeSlideCircle:"books_changeSlideCircle__1k6S2",Cover:"books_Cover__18ka7",activeCircle:"books_activeCircle__GqskM"}},112:function(t,e,a){"use strict";a.r(e);var i=a(21),s=a(22),n=a(24),o=a(23),l=a(25),c=a(0),r=a.n(c),d=a(2),h=a(16),u=a(102),_=a.n(u),p=(a(42),a(26)),k=a.n(p),b=function(t){function e(){var t,a;Object(i.a)(this,e);for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];return(a=Object(n.a)(this,(t=Object(o.a)(e)).call.apply(t,[this].concat(l))))._isMounted=!1,a.state={isLoading:!0,books:[],url:null,leftUrl:null,rightUrl:null,id:0,opacity:!1,panel:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],showEmpty:!1},a}return Object(l.a)(e,t),Object(s.a)(e,[{key:"componentDidMount",value:function(){var t=this;this._isMounted=!0;var e=function(t){var e="";return[].slice.call(new Uint8Array(t)).forEach((function(t){return e+=String.fromCharCode(t)})),window.btoa(e)};fetch("".concat(h.a,"books/all")).then((function(t){return t.json()})).then((function(a){var i=a.sort((function(){return.5-Math.random()})).slice(0,10);t.setState({books:i},(function(){void 0!==t.state.books[t.state.id].coverUrl&&t.setState({url:e(t.state.books[t.state.id].coverUrl.data),opacity:!0},(function(){t.setState({isLoading:!1})}))}))}));var a=this.state.panel;a[this.state.id]=!0,this.setState({panel:a})}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"componentDidUpdate",value:function(t,e){if(e.id!==this.state.id&&!1===this.state.opacity&&this.setState({opacity:!0}),e.id!==this.state.id&&void 0!==this.state.books[this.state.id].url&&this.setState({url:function(t){var e="";return[].slice.call(new Uint8Array(t)).forEach((function(t){return e+=String.fromCharCode(t)})),window.btoa(e)}(this.state.books[this.state.id].url.data)}),e.id!==this.state.id&&void 0===this.state.books[this.state.id].url&&this.setState({url:null}),e.id!==this.state.id){var a=[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1];a[this.state.id]=!0,this.setState({panel:a})}}},{key:"narrowLeft",value:function(){this.state.id<=0?this.setState({id:this.state.books.length-1}):this.setState({id:this.state.id-1,opacity:!1})}},{key:"narrowRight",value:function(){this.state.id>=this.state.books.length-1?this.setState({id:0}):this.setState({id:this.state.id+1,opacity:!1})}},{key:"changeSlide",value:function(t){this.setState({id:t})}},{key:"render",value:function(){var t=this;return console.log(this.state.books[this.state.id]),!0===this.state.isLoading?r.a.createElement("div",{style:{marginTop:"-180px",width:"100vw",height:"100vh",display:"flex",justifyContent:"center",alignItems:"center"}},r.a.createElement("div",{className:k.a.loader})):r.a.createElement("div",{className:_.a.Container},r.a.createElement("div",{className:_.a.Buttons},r.a.createElement("span",{className:_.a.left,onClick:function(){return t.narrowLeft()}},"\u2190"),r.a.createElement("span",{className:_.a.right,onClick:function(){return t.narrowRight()}},"\u2192")),r.a.createElement("div",null,r.a.createElement("div",{className:_.a.Slider},r.a.createElement("div",{className:_.a.Cover},r.a.createElement(d.b,{to:"/sample/".concat(this.state.books[this.state.id].id)},r.a.createElement("img",{className:this.state.opacity?"".concat(_.a.opacity," ").concat(_.a.Slide):"".concat(_.a.Slide),src:this.state.url?"data:image/jpeg;base64,"+this.state.url:null}),r.a.createElement("div",{className:_.a.upTitle},r.a.createElement("p",{className:_.a.title},0==this.state.books.length?null:this.state.books[this.state.id].title))),r.a.createElement("div",{className:_.a.upPanel}," ",r.a.createElement("div",{className:_.a.panel}," ",this.state.books.map((function(e,a){return r.a.createElement("span",{className:!1===t.state.panel[a]?"".concat(_.a.changeSlideCircle):"".concat(_.a.changeSlideCircle," ").concat(_.a.activeCircle),onClick:function(){return t.changeSlide(a)}},"\u25cb")}))," "))))))}}]),e}(c.Component);e.default=b}}]);
//# sourceMappingURL=16.28b91546.chunk.js.map