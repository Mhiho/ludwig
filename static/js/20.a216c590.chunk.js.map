{"version":3,"sources":["styles/mypoems.module.scss","components/Poems/Poems.js"],"names":["module","exports","Poems","useState","setIsLoading","poems","setPoems","poemNr","setPoemNr","opacity","setOpacity","fetchPoems","a","axios","get","adresse","response","shuffled","data","sort","Math","random","shuffledFive","slice","length","setTimeout","useEffect","className","classes","ContainerPoem","NewPoemBtn","onClick","Poem","Opacity","to","id","title","author"],"mappings":"wFACAA,EAAOC,QAAU,CAAC,UAAY,2BAA2B,KAAO,sBAAsB,QAAU,yBAAyB,QAAU,yBAAyB,MAAQ,uBAAuB,UAAY,2BAA2B,QAAU,yBAAyB,UAAY,2BAA2B,UAAY,2BAA2B,OAAS,wBAAwB,KAAO,sBAAsB,WAAa,4BAA4B,cAAgB,+BAA+B,iBAAmB,kCAAkC,OAAS,0B,6JCkFxhBC,UA3ED,WAAO,IAAD,EACgBC,oBAAS,GADzB,mBACAC,GADA,aAEQD,mBAAS,IAFjB,mBAEXE,EAFW,KAEJC,EAFI,OAGUH,mBAAS,GAHnB,mBAGXI,EAHW,KAGHC,EAHG,OAIYL,oBAAS,GAJrB,mBAIXM,EAJW,KAIFC,EAJE,OAKQP,mBAAS,EAAC,GAAO,GAAO,GAAO,GAAO,IAL9C,gCAMgBA,oBAAS,IANzB,mBAQZQ,GARY,UAQF,uCAAG,gCAAAC,EAAA,sEACMC,IAAMC,IAAN,UAAaC,IAAb,eADN,OACXC,EADW,OAGXC,EAAWD,EAASE,KAAKC,MAAK,iBAAM,GAAMC,KAAKC,YAC/CC,EAAeL,EAASM,MAAM,EAAG,GACvCjB,EAASgB,GAKLA,EAAaE,OAAS,GACxBpB,GAAa,IAEC,IAAZK,GACFgB,YAAW,WACTf,GAAW,KACV,KAhBY,2CAAH,sDAoBhBgB,qBAAU,WACRf,MACC,CAACJ,IAeJ,OACE,6BACE,yBAAKoB,UAAWC,IAAQC,eACtB,6BACE,4BACEF,UAAWC,IAAQE,WACnBC,QAAStB,EAAU,KAAO,WAlB9BF,GAAU,GACZkB,YAAW,WACTjB,EAAU,KACT,KACHE,GAAW,KAEXe,YAAW,WACTjB,EAAUD,EAAS,KAClB,KACHG,GAAW,MAOP,yBAMkB,IAAjBL,EAAMmB,OAAe,KACpB,yBACEG,WACc,IAAZlB,EAAA,UACOmB,IAAQI,MADf,UAEOJ,IAAQI,KAFf,YAEuBJ,IAAQK,UAGjC,kBAAC,IAAD,CAAMC,GAAE,uBAAkB7B,EAAME,GAAQ4B,KACtC,4BAAK9B,EAAME,GAAQ6B,OACnB,4BAAK/B,EAAME,GAAQ8B","file":"static/js/20.a216c590.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"mypoems_Container__33Gd_\",\"Poem\":\"mypoems_Poem__peHnm\",\"Opacity\":\"mypoems_Opacity___BPts\",\"opacity\":\"mypoems_opacity__329wk\",\"Frame\":\"mypoems_Frame__1bQ5k\",\"addAkaBtn\":\"mypoems_addAkaBtn__ZkuB-\",\"addLine\":\"mypoems_addLine__3lCU6\",\"goBackBtn\":\"mypoems_goBackBtn__1bXlS\",\"deleteBtn\":\"mypoems_deleteBtn__Sgj7X\",\"Akapit\":\"mypoems_Akapit__-AIiE\",\"Line\":\"mypoems_Line__2aOFC\",\"NewPoemBtn\":\"mypoems_NewPoemBtn__3_GoL\",\"ContainerPoem\":\"mypoems_ContainerPoem__1iUfi\",\"ContainerReading\":\"mypoems_ContainerReading__3EHwV\",\"MyPoem\":\"mypoems_MyPoem__KLae-\"};","import React, { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { adresse } from \"../../config\";\nimport classes from \"../../styles/mypoems.module.scss\";\nimport loading from \"../../styles/app.module.scss\";\nimport axios from \"axios\";\nimport { useDispatch, useSelectors } from \"react-redux\";\n\nconst Poems = () => {\n  const [isLoading, setIsLoading] = useState(true);\n  const [poems, setPoems] = useState([]);\n  const [poemNr, setPoemNr] = useState(0);\n  const [opacity, setOpacity] = useState(false);\n  const [panel, setPanel] = useState([false, false, false, false, false]);\n  const [showEmpty, setShowEmpty] = useState(false);\n\n  const fetchPoems = async () => {\n    const response = await axios.get(`${adresse}/poems/all`);\n\n    const shuffled = response.data.sort(() => 0.5 - Math.random());\n    const shuffledFive = shuffled.slice(0, 5);\n    setPoems(shuffledFive);\n    // if (poemNr === 0) {\n    //     console.log('start')\n    //     setOpacity(true)\n    // }\n    if (shuffledFive.length > 0) {\n      setIsLoading(false);\n    }\n    if (opacity === true) {\n      setTimeout(function () {\n        setOpacity(false);\n      }, 300);\n    }\n  };\n\n  useEffect(() => {\n    fetchPoems();\n  }, [poemNr]);\n\n  const change = () => {\n    if (poemNr >= 3) {\n      setTimeout(function () {\n        setPoemNr(0);\n      }, 1000);\n      setOpacity(true);\n    } else {\n      setTimeout(function () {\n        setPoemNr(poemNr + 1);\n      }, 1000);\n      setOpacity(true);\n    }\n  };\n  return (\n    <div>\n      <div className={classes.ContainerPoem}>\n        <div>\n          <button\n            className={classes.NewPoemBtn}\n            onClick={opacity ? null : () => change()}\n          >\n            PrzeglÄ…daj dalej\n          </button>\n          {poems.length === 0 ? null : (\n            <div\n              className={\n                opacity !== true\n                  ? `${classes.Poem}`\n                  : `${classes.Poem} ${classes.Opacity}`\n              }\n            >\n              <Link to={`/poemReading/${poems[poemNr].id}`}>\n                <h3>{poems[poemNr].title}</h3>\n                <h4>{poems[poemNr].author}</h4>\n              </Link>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Poems;\n"],"sourceRoot":""}