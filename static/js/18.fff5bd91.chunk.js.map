{"version":3,"sources":["styles/mybooks.module.scss","components/MyBooks/MyBooks.js"],"names":["module","exports","MyBooks","_isMounted","state","isLoading","books","urls","this","url","adresse","headers","Authorization","getUser","token","fetch","then","response","json","setState","style","marginTop","width","height","display","justifyContent","alignItems","className","loading","loader","to","classes","Container","length","map","book","index","key","id","Item","src","coverUrl","alt","title","Component"],"mappings":"wFACAA,EAAOC,QAAU,CAAC,aAAe,8BAA8B,UAAY,2BAA2B,KAAO,wB,sJCMvGC,E,4MACJC,YAAa,E,EACbC,MAAQ,CACNC,WAAW,EACXC,MAAO,GACPC,KAAM,I,kEAEa,IAAD,OAClBC,KAAKL,YAAa,EAClB,IAAMM,EAAG,UAAMC,IAAN,eACHC,EAAU,CACd,eAAgB,mBAChBC,cAAe,UAAYC,cAAUC,OAEvCC,MAAMN,EAAK,CACTE,QAASA,IAERK,MAAK,SAACC,GAAD,OAAcA,EAASC,UAC5BF,MAAK,SAACV,GACL,EAAKa,SAAS,CAAEb,MAAOA,IAAS,WAC9B,EAAKa,SAAS,CAAEd,WAAW,Y,6CAKjCG,KAAKL,YAAa,I,+BAGlB,OAA6B,IAAzBK,KAAKJ,MAAMC,UAEX,yBACEe,MAAO,CACLC,UAAW,SACXC,MAAO,QACPC,OAAQ,QACRC,QAAS,OACTC,eAAgB,SAChBC,WAAY,WAGd,yBAAKC,UAAWC,IAAQC,UAK5B,6BACE,kBAAC,IAAD,CAAMC,GAAG,YACP,+EAEF,yBAAKH,UAAWI,IAAQC,WACO,IAA5BxB,KAAKJ,MAAME,MAAM2B,OACd,KACAzB,KAAKJ,MAAME,MAAM4B,KAAI,SAACC,EAAMC,GAAP,OACnB,kBAAC,IAAD,CACEC,IAAKF,EAAKG,GACVX,UAAWI,IAAQQ,KACnBT,GAAE,mBAAcK,EAAKG,GAAnB,aAEF,6BACE,yBAAKE,IAAG,UAAK9B,IAAL,YAAgByB,EAAKM,UAAYC,IAAI,UAC7C,2BAAIP,EAAKQ,kB,GA5DPC,aAsEP1C","file":"static/js/18.fff5bd91.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"btnChaptitle\":\"mybooks_btnChaptitle__24k3x\",\"Container\":\"mybooks_Container__2wnQl\",\"Item\":\"mybooks_Item__1SDFv\"};","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { adresse } from \"../../config\";\nimport { getUser } from \"../../services/auth\";\nimport classes from \"../../styles/mybooks.module.scss\";\nimport loading from \"../../styles/app.module.scss\";\n\nclass MyBooks extends Component {\n  _isMounted = false;\n  state = {\n    isLoading: true,\n    books: [],\n    urls: [],\n  };\n  componentDidMount() {\n    this._isMounted = true;\n    const url = `${adresse}/books/mine`;\n    const headers = {\n      \"Content-Type\": \"application/json\",\n      Authorization: \"Bearer \" + getUser().token,\n    };\n    fetch(url, {\n      headers: headers,\n    })\n      .then((response) => response.json())\n      .then((books) => {\n        this.setState({ books: books }, () => {\n          this.setState({ isLoading: false });\n        });\n      });\n  }\n  componentWillUnmount() {\n    this._isMounted = false;\n  }\n  render() {\n    if (this.state.isLoading === true) {\n      return (\n        <div\n          style={{\n            marginTop: \"-180px\",\n            width: \"100vw\",\n            height: \"100vh\",\n            display: \"flex\",\n            justifyContent: \"center\",\n            alignItems: \"center\",\n          }}\n        >\n          <div className={loading.loader}></div>\n        </div>\n      );\n    }\n    return (\n      <div>\n        <Link to=\"/addBook\">\n          <h2>Dodaj własną książkę!</h2>\n        </Link>\n        <div className={classes.Container}>\n          {this.state.books.length === 0\n            ? null\n            : this.state.books.map((book, index) => (\n                <Link\n                  key={book.id}\n                  className={classes.Item}\n                  to={`/myBooks/${book.id}/writing`}\n                >\n                  <div>\n                    <img src={`${adresse}/${book.coverUrl}`} alt=\"cover\" />\n                    <p>{book.title}</p>\n                  </div>\n                </Link>\n              ))}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default MyBooks;\n"],"sourceRoot":""}