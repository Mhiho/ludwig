/*! For license information please see 5.6361ab9f.chunk.js.LICENSE.txt */
(this.webpackJsonpvanessa=this.webpackJsonpvanessa||[]).push([[5],{127:function(e,t,n){e.exports={Container:"mypoems_Container__33Gd_",Poem:"mypoems_Poem__peHnm",Opacity:"mypoems_Opacity___BPts",opacity:"mypoems_opacity__329wk",Frame:"mypoems_Frame__1bQ5k",addAkaBtn:"mypoems_addAkaBtn__ZkuB-",addLine:"mypoems_addLine__3lCU6",goBackBtn:"mypoems_goBackBtn__1bXlS",deleteBtn:"mypoems_deleteBtn__Sgj7X",Akapit:"mypoems_Akapit__-AIiE",Line:"mypoems_Line__2aOFC",NewPoemBtn:"mypoems_NewPoemBtn__3_GoL",ContainerPoem:"mypoems_ContainerPoem__1iUfi",ContainerReading:"mypoems_ContainerReading__3EHwV",MyPoem:"mypoems_MyPoem__KLae-",progressBar:"mypoems_progressBar__3ULVK"}},135:function(e,t,n){"use strict";var a;(function(){var n=null,i=0,r=!1,o="undefined"!==typeof window;var s=function(){if(o&&"function"===typeof window.addEventListener){var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}}),n=function(){};return window.addEventListener("TEST_PASSIVE_EVENT_SUPPORT",n,t),window.removeEventListener("TEST_PASSIVE_EVENT_SUPPORT",n,t),e}return!1}(),c=o&&"function"===typeof window.CustomEvent;function l(){return"undefined"===typeof window?null:(i++,n||(n=this,this.handleScroll=this.handleScroll.bind(this),this.eventListenerOptions=!s||{passive:!0},void window.addEventListener("scroll",this.handleScroll,this.eventListenerOptions)))}l.prototype.removeListener=function(){0===--i&&this.destroy()},l.prototype.destroy=function(){window.removeEventListener("scroll",this.handleScroll,this.eventListenerOptions),n=null,i=0},l.prototype.getScrollPosition=function(){var e=window.scrollY||document.documentElement.scrollTop,t=window.scrollX||document.documentElement.scrollLeft;return e<0&&(e=0),t<0&&(t=0),{scrollPosition:e,scrollPositionY:e,scrollPositionX:t}},l.prototype.handleScroll=function(){var e;r||(r=!0,c?e=new CustomEvent("window-scroll",{detail:this.getScrollPosition()}):(e=document.createEvent("CustomEvent")).initCustomEvent("window-scroll",!1,!1,this.getScrollPosition()),window.dispatchEvent(e),window.requestAnimationFrame((function(){r=!1})))},e.exports?(l.default=l,e.exports=l):void 0===(a=function(){return l}.apply(t,[]))||(e.exports=a)}).call(this)},136:function(e,t,n){var a;!function(){"use strict";var n={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var a=arguments[t];if(a){var r=typeof a;if("string"===r||"number"===r)e.push(a);else if(Array.isArray(a)&&a.length){var o=i.apply(null,a);o&&e.push(o)}else if("object"===r)for(var s in a)n.call(a,s)&&a[s]&&e.push(s)}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(a=function(){return i}.apply(t,[]))||(e.exports=a)}()},137:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){var n=void 0===t?{}:t,a=n.propTypes,r=n.defaultProps,o=n.allowFallback,s=void 0!==o&&o,c=n.displayName,l=void 0===c?e.name||e.displayName:c,u=function(t,n){return e(t,n)};return Object.assign(i.default.forwardRef||!s?i.default.forwardRef(u):function(e){return u(e,null)},{displayName:l,propTypes:a,defaultProps:r})};var a,i=(a=n(0))&&a.__esModule?a:{default:a}},156:function(e,t,n){"use strict";n.r(t);var a=n(15),i=n.n(a),r=n(22),o=n(30),s=n(31),c=n(33),l=n(32),u=n(0),p=n.n(u),d=n(51),m=n(127),f=n.n(m),h=n(49),v=n.n(h),y=n(63),w=n(53),_=n(2),b=n(8),k=n(136),g=n.n(k),P=(n(137),p.a.createContext({}));P.Consumer,P.Provider;function E(e,t){var n=Object(u.useContext)(P);return e||n[t]||t}function O(e,t,n){var a=(e-t)/(n-t)*100;return Math.round(1e3*a)/1e3}function C(e,t){var n,a=e.min,i=e.now,r=e.max,o=e.label,s=e.srOnly,c=e.striped,l=e.animated,u=e.className,d=e.style,m=e.variant,f=e.bsPrefix,h=Object(b.a)(e,["min","now","max","label","srOnly","striped","animated","className","style","variant","bsPrefix"]);return p.a.createElement("div",Object(_.a)({ref:t},h,{role:"progressbar",className:g()(u,f+"-bar",(n={},n["bg-"+m]=m,n[f+"-bar-animated"]=l,n[f+"-bar-striped"]=l||c,n)),style:Object(_.a)({width:O(i,a,r)+"%"},d),"aria-valuenow":i,"aria-valuemin":a,"aria-valuemax":r}),s?p.a.createElement("span",{className:"sr-only"},o):o)}var N=p.a.forwardRef((function(e,t){var n=e.isChild,a=Object(b.a)(e,["isChild"]);if(a.bsPrefix=E(a.bsPrefix,"progress"),n)return C(a,t);var i=a.min,r=a.now,o=a.max,s=a.label,c=a.srOnly,l=a.striped,d=a.animated,m=a.bsPrefix,f=a.variant,h=a.className,v=a.children,y=Object(b.a)(a,["min","now","max","label","srOnly","striped","animated","bsPrefix","variant","className","children"]);return p.a.createElement("div",Object(_.a)({ref:t},y,{className:g()(h,m)}),v?function(e,t){var n=0;return p.a.Children.map(e,(function(e){return p.a.isValidElement(e)?t(e,n++):e}))}(v,(function(e){return Object(u.cloneElement)(e,{isChild:!0})})):C({min:i,now:r,max:o,label:s,srOnly:c,striped:l,animated:d,bsPrefix:m,variant:f},t))}));N.displayName="ProgressBar",N.defaultProps={min:0,max:100,animated:!1,isChild:!1,srOnly:!1,striped:!1};var x=N,S=n(135),j=n.n(S),T=n(26),B=n(16),L=n(17),R=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).setPosition=Object(r.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(B.a,"/users/updateReadingBook/").concat(a.state.id),e.next=3,Object(T.a)({method:"put",url:t,headers:{"Content-Type":"application/json",Authorization:"Bearer "+Object(L.a)().token},data:JSON.stringify({bookId:a.state.id,checkpointCh:a.state.chapterNr,checkpointA:Math.round(a.state.currentPosition)})});case 3:case"end":return e.stop()}}),e)}))),a.click=function(){window.scrollTo(0,a.state.position*a.state.limit/100)},a.myRef=p.a.createRef(),a.state={id:null,checkpoints:a.props.checkpoints,chapterNr:null,loading:!0,position:0,limit:.1,currentPosition:null,currentChapter:null,bodyHeight:null},a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.props.fetchCheckpoints(),this.forceUpdate();var t=this.props.match.params.id;this.props.fetchReading(t),this.setState({id:t},(function(){})),setTimeout((function(){var t=e.props.checkpoints.checkpoints.find((function(t){return t.bookId===e.state.id}));e.setState({chapterNr:t.checkpointCh,position:t.checkpointA},(function(){setTimeout((function(){e.setState({limit:e.myRef.current.offsetTop,loading:!1}),window.scrollTo(0,e.state.position*e.state.limit/100)}),100)}))}),500),setInterval(this.setPosition,3e4);new j.a;window.addEventListener("window-scroll",(function(t){var n=t.detail.scrollPosition;e.setState({currentPosition:n/e.state.limit*100})}))}},{key:"componentWillUnmount",value:function(){clearInterval(this.setPosition)}},{key:"changeChapter",value:function(e){this.setState({chapterNr:e})}},{key:"componentWillMount",value:function(){}},{key:"render",value:function(){var e=this,t=this.props.book;return console.log(t,this.state.loading),t.reading.chapters?p.a.createElement("div",null,p.a.createElement(x,{className:"".concat(f.a.progressBar),now:this.state.currentPosition,variant:"warning"}),p.a.createElement("div",null,p.a.createElement("button",{onClick:function(){return e.click()}},"klikkk"),t.reading.chapters&&t.reading.chapters.map((function(t,n){return p.a.createElement("button",{onClick:function(){return e.changeChapter(n)},className:f.a.btnChaptitle},t.chapTitle)}))),t.reading.chapters&&null!==this.state.chapterNr?t.reading.chapters[this.state.chapterNr].chapTitle:null,t.reading.chapters&&null!==this.state.chapterNr?t.reading.chapters[this.state.chapterNr].akapits.map((function(e,t){return p.a.createElement("p",null,e)})):null,p.a.createElement("div",{className:"Ref",ref:this.myRef},".")):p.a.createElement("div",{style:{marginTop:"-180px",width:"100vw",height:"100vh",display:"flex",justifyContent:"center",alignItems:"center"}},p.a.createElement("div",{className:v.a.loader}))}}]),n}(u.Component);t.default=Object(d.b)((function(e){return{book:e.booksReadingState,checkpoints:e.checkpointsReadingState}}),(function(e){return{fetchReading:function(t){return e(Object(y.b)(t))},fetchCheckpoints:function(){return e(Object(w.b)())}}}))(R)}}]);
//# sourceMappingURL=5.6361ab9f.chunk.js.map