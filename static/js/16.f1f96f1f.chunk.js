(this.webpackJsonpvanessa=this.webpackJsonpvanessa||[]).push([[16],{129:function(e,a,t){e.exports={submitContainer:"login_submitContainer__2DVxR",signUpButton:"login_signUpButton__8sgdX",pageTitle:"login_pageTitle__1NHe2",pageTitleHomePage:"login_pageTitleHomePage__37je0",emailInp:"login_emailInp__2JpwB",emailField:"login_emailField__1AQWh",marginLogin:"login_marginLogin__pEOjC"}},138:function(e,a,t){"use strict";t.r(a);var n=t(52),i=t(31),s=t(32),l=t(34),o=t(33),r=t(129),m=t.n(r),c=t(0),p=t.n(c),u=(t(16),t(19)),g=t(7),d=function(e){Object(l.a)(t,e);var a=Object(o.a)(t);function t(){var e;Object(i.a)(this,t);for(var s=arguments.length,l=new Array(s),o=0;o<s;o++)l[o]=arguments[o];return(e=a.call.apply(a,[this].concat(l))).state={email:"",password:"",info:"",logged:!1},e.handleUpdate=function(a){e.setState(Object(n.a)({},a.target.name,a.target.value))},e.handleSubmit=function(a){if(a.preventDefault(),""!==e.state.email&&""!==e.state.password){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e.state.email,password:e.state.password})};fetch("".concat(u.a,"/users/login"),t).then((function(a){return a.ok||e.setState({info:"B\u0142\u0105d logowania!"}),a.json()})).then((function(a){return a.token&&(!function(e){window.localStorage.setItem("user",JSON.stringify(e))}(a),e.setState({logged:!0})),a}))}},e}return Object(s.a)(t,[{key:"componentDidUpdate",value:function(){this.state.logged&&this.props.history.push("/myProfile")}},{key:"render",value:function(){return p.a.createElement(p.a.Fragment,null,p.a.createElement("div",{className:m.a.Container},p.a.createElement("h2",{className:m.a.pageTitle},"Zaloguj:"),p.a.createElement("h3",{style:{height:"40px",width:"100%"}},this.state.info),p.a.createElement("form",{method:"post",onSubmit:this.handleSubmit.bind(this)},p.a.createElement("label",null,p.a.createElement("span",{className:m.a.emailInp},"Email"),p.a.createElement("input",{className:m.a.emailField,type:"email",name:"email",onChange:this.handleUpdate,value:this.state.email})),p.a.createElement("label",null,p.a.createElement("span",{className:m.a.emailInp},"Has\u0142o"),p.a.createElement("input",{className:m.a.emailField,type:"password",name:"password",onChange:this.handleUpdate,value:this.state.password})),p.a.createElement("div",{className:"".concat(m.a.submitContainer," ").concat(m.a.marginLogin)},p.a.createElement("input",{className:m.a.emailField,type:"submit",value:"Zaloguj"}))),p.a.createElement("div",{className:m.a.submitContainer},p.a.createElement("button",{className:"".concat(m.a.signUpButton)},p.a.createElement(g.b,{to:"/signUp"},"Utw\xf3rz konto"))),p.a.createElement("div",{className:m.a.submitContainer},p.a.createElement(g.b,{to:"/resetPassword"},"Zapomnia\u0142e\u015b has\u0142a?"))))}}]),t}(p.a.Component);a.default=d}}]);
//# sourceMappingURL=16.f1f96f1f.chunk.js.map