(this.webpackJsonpvanessa=this.webpackJsonpvanessa||[]).push([[8],{101:function(e,a,t){e.exports={submitContainer:"login_submitContainer__2DVxR",signUpButton:"login_signUpButton__8sgdX",pageTitle:"login_pageTitle__1NHe2",pageTitleHomePage:"login_pageTitleHomePage__37je0",emailInp:"login_emailInp__2JpwB",emailField:"login_emailField__1AQWh",marginLogin:"login_marginLogin__pEOjC"}},110:function(e,a,t){"use strict";t.r(a);var n=t(99),i=t(21),l=t(22),s=t(24),o=t(23),r=t(25),m=t(101),c=t.n(m),u=t(0),p=t.n(u),g=(t(10),t(16)),d=t(2),h=function(e){function a(){var e,t;Object(i.a)(this,a);for(var l=arguments.length,r=new Array(l),m=0;m<l;m++)r[m]=arguments[m];return(t=Object(s.a)(this,(e=Object(o.a)(a)).call.apply(e,[this].concat(r)))).state={email:"",password:"",info:"",logged:!1},t.handleUpdate=function(e){t.setState(Object(n.a)({},e.target.name,e.target.value))},t.handleSubmit=function(e){if(e.preventDefault(),""!==t.state.email&&""!==t.state.password){var a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t.state.email,password:t.state.password})};fetch("".concat(g.a,"users/login"),a).then((function(e){return e.ok||t.setState({info:"B\u0142\u0105d logowania!"}),e.json()})).then((function(e){return e.token&&(!function(e){window.localStorage.setItem("user",JSON.stringify(e))}(e),t.setState({logged:!0})),e}))}},t}return Object(r.a)(a,e),Object(l.a)(a,[{key:"componentDidUpdate",value:function(){this.state.logged&&this.props.history.push("/myProfile")}},{key:"render",value:function(){return p.a.createElement(p.a.Fragment,null,p.a.createElement("div",{className:c.a.Container},p.a.createElement("h2",{className:c.a.pageTitle},"Zaloguj:"),p.a.createElement("h3",{style:{height:"50px",width:"100%"}},this.state.info),p.a.createElement("form",{method:"post",onSubmit:this.handleSubmit.bind(this)},p.a.createElement("label",null,p.a.createElement("span",{className:c.a.emailInp},"Email"),p.a.createElement("input",{className:c.a.emailField,type:"email",name:"email",onChange:this.handleUpdate,value:this.state.email})),p.a.createElement("label",null,p.a.createElement("span",{className:c.a.emailInp},"Has\u0142o"),p.a.createElement("input",{className:c.a.emailField,type:"password",name:"password",onChange:this.handleUpdate,value:this.state.password})),p.a.createElement("div",{className:"".concat(c.a.submitContainer," ").concat(c.a.marginLogin)},p.a.createElement("input",{className:c.a.emailField,type:"submit",value:"Zaloguj"}))),p.a.createElement("div",{className:c.a.submitContainer},p.a.createElement("button",{className:"".concat(c.a.signUpButton)},p.a.createElement(d.b,{to:"/signUp"},"Utw\xf3rz konto"))),p.a.createElement("div",{className:c.a.submitContainer},p.a.createElement(d.b,{to:"/resetPassword"},"Zapomnia\u0142e\u015b has\u0142a?"))))}}]),a}(p.a.Component);a.default=h},99:function(e,a,t){"use strict";function n(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}t.d(a,"a",(function(){return n}))}}]);
//# sourceMappingURL=8.e0b86681.chunk.js.map