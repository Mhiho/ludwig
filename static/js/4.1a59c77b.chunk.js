(this.webpackJsonpvanessa=this.webpackJsonpvanessa||[]).push([[4],{126:function(e,t,a){e.exports={Container:"mypoems_Container__33Gd_",Poem:"mypoems_Poem__peHnm",Opacity:"mypoems_Opacity___BPts",opacity:"mypoems_opacity__329wk",Frame:"mypoems_Frame__1bQ5k",addAkaBtn:"mypoems_addAkaBtn__ZkuB-",addLine:"mypoems_addLine__3lCU6",goBackBtn:"mypoems_goBackBtn__1bXlS",deleteBtn:"mypoems_deleteBtn__Sgj7X",Akapit:"mypoems_Akapit__-AIiE",Line:"mypoems_Line__2aOFC",NewPoemBtn:"mypoems_NewPoemBtn__3_GoL",ContainerPoem:"mypoems_ContainerPoem__1iUfi",ContainerReading:"mypoems_ContainerReading__3EHwV",MyPoem:"mypoems_MyPoem__KLae-"}},127:function(e,t,a){e.exports={submitContainer:"login_submitContainer__2DVxR",signUpButton:"login_signUpButton__8sgdX",pageTitle:"login_pageTitle__1NHe2",pageTitleHomePage:"login_pageTitleHomePage__37je0",emailInp:"login_emailInp__2JpwB",emailField:"login_emailField__1AQWh",marginLogin:"login_marginLogin__pEOjC"}},131:function(e,t,a){e.exports={resultsField:"search_resultsField__3d-Yr",result:"search_result__3iyve",searchContainer:"search_searchContainer__1quUV",searchInp:"search_searchInp__Un9lJ"}},151:function(e,t,a){"use strict";a.r(t);var n=a(23),o=a.n(n),i=a(34),r=a(17),c=a(0),s=a.n(c),l=a(9),m=a(22),u=a(126),_=a.n(u),p=(a(49),a(29)),d=a(30),h=a(32),g=a(31),f=a(131),y=a.n(f),b=a(127),j=a.n(b),v=function(e){Object(h.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={term:"",data:[],limit:5,error:""},e}return Object(d.a)(a,[{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),fetch("".concat(m.a,"poems/poemSearch?term=").concat(this.state.term,"&limit=").concat(this.state.limit)).then((function(e){return e.json()})).then((function(e){t.setState({data:e}),0===t.state.data.length?t.setState({error:"Nie znaleziono \u017cadnej pozycji."}):t.setState({error:""})}))}},{key:"render",value:function(){var e=this;return console.log(this.state.term),console.log(this.state.data),s.a.createElement("div",null,s.a.createElement("form",{onSubmit:function(t){return e.handleSubmit(t)}},s.a.createElement("div",{className:y.a.searchContainer},s.a.createElement("input",{className:"".concat(j.a.emailInp," ").concat(y.a.searchInp),type:"text",value:this.state.term,onChange:function(t){return e.setState({term:t.target.value})}}),s.a.createElement("input",{className:j.a.emailField,value:"szukaj",type:"submit"}))),s.a.createElement("div",{className:y.a.resultsField},s.a.createElement("h2",null," ",this.state.error)))}}]),a}(c.Component),O=a(41),E=a.n(O);a(52),t.default=function(){var e=Object(c.useState)(!0),t=Object(r.a)(e,2),a=(t[0],t[1]),n=Object(c.useState)([]),u=Object(r.a)(n,2),p=u[0],d=u[1],h=Object(c.useState)(0),g=Object(r.a)(h,2),f=g[0],y=g[1],b=Object(c.useState)(!1),j=Object(r.a)(b,2),O=j[0],C=j[1],k=Object(c.useState)([!1,!1,!1,!1,!1]),B=Object(r.a)(k,2),P=(B[0],B[1],Object(c.useState)(!1)),S=Object(r.a)(P,2),N=(S[0],S[1],function(){var e=Object(i.a)(o.a.mark((function e(){var t,n,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get("".concat(m.a,"poems/all"));case 2:t=e.sent,n=t.data.sort((function(){return.5-Math.random()})),i=n.slice(0,5),d(i),i.length>0&&a(!1),!0===O&&setTimeout((function(){C(!1)}),300);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}());Object(c.useEffect)((function(){N()}),[f]);return s.a.createElement("div",null,s.a.createElement("div",{className:_.a.ContainerPoem},s.a.createElement("div",null,s.a.createElement("button",{className:_.a.NewPoemBtn,onClick:O?null:function(){f>=3?(setTimeout((function(){y(0)}),1e3),C(!0)):(setTimeout((function(){y(f+1)}),1e3),C(!0))}},"Przegl\u0105daj dalej"),0==p.length?null:s.a.createElement("div",{className:!0!==O?"".concat(_.a.Poem):"".concat(_.a.Poem," ").concat(_.a.Opacity)},s.a.createElement(l.b,{to:"/poemReading/".concat(p[f].id)},s.a.createElement("h3",null,p[f].title),s.a.createElement("h4",null,p[f].author))))),s.a.createElement(v,null))}}}]);
//# sourceMappingURL=4.1a59c77b.chunk.js.map