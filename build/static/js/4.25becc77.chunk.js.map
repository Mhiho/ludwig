{"version":3,"sources":["styles/mypoems.module.scss","styles/login.module.scss","styles/search.module.scss","_components/SearchPoem.js","components/Poems/Poems.js"],"names":["module","exports","SearchPoem","state","term","data","limit","error","event","preventDefault","fetch","adresse","this","then","response","json","setState","length","console","log","onSubmit","handleSubmit","className","classes","searchContainer","classes2","emailInp","searchInp","type","value","onChange","target","emailField","resultsField","Component","Poems","isLoading","poems","undefined","poemNr","opacity","panel","showEmpty","axios","get","res","shuffledFive","sort","Math","random","slice","thi","setTimeout","prevProps","prevState","ContainerPoem","NewPoemBtn","onClick","change","Poem","Opacity","to","id","title","author"],"mappings":"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","file":"static/js/4.25becc77.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"mypoems_Container__33Gd_\",\"Poem\":\"mypoems_Poem__peHnm\",\"Opacity\":\"mypoems_Opacity___BPts\",\"opacity\":\"mypoems_opacity__329wk\",\"Frame\":\"mypoems_Frame__1bQ5k\",\"addAkaBtn\":\"mypoems_addAkaBtn__ZkuB-\",\"addLine\":\"mypoems_addLine__3lCU6\",\"goBackBtn\":\"mypoems_goBackBtn__1bXlS\",\"deleteBtn\":\"mypoems_deleteBtn__Sgj7X\",\"Akapit\":\"mypoems_Akapit__-AIiE\",\"Line\":\"mypoems_Line__2aOFC\",\"NewPoemBtn\":\"mypoems_NewPoemBtn__3_GoL\",\"ContainerPoem\":\"mypoems_ContainerPoem__1iUfi\",\"ContainerReading\":\"mypoems_ContainerReading__3EHwV\",\"MyPoem\":\"mypoems_MyPoem__KLae-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"submitContainer\":\"login_submitContainer__2DVxR\",\"signUpButton\":\"login_signUpButton__8sgdX\",\"pageTitle\":\"login_pageTitle__1NHe2\",\"pageTitleHomePage\":\"login_pageTitleHomePage__37je0\",\"emailInp\":\"login_emailInp__2JpwB\",\"emailField\":\"login_emailField__1AQWh\",\"marginLogin\":\"login_marginLogin__pEOjC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"resultsField\":\"search_resultsField__3d-Yr\",\"result\":\"search_result__3iyve\",\"searchContainer\":\"search_searchContainer__1quUV\",\"searchInp\":\"search_searchInp__Un9lJ\"};","import React, {Component} from 'react'\nimport {adresse} from '../config'\nimport classes from '../styles/search.module.scss'\nimport classes2 from '../styles/login.module.scss'\n\nclass SearchPoem extends Component {\n\n    state={\n        term: '',\n        data: [],\n        limit: 5,\n        error: ''\n    }\n    handleSubmit(event){\n        event.preventDefault()\n        \n        fetch(`${adresse}poems/poemSearch?term=${this.state.term}&limit=${this.state.limit}`)\n            .then(response => response.json())\n            .then(data => {this.setState({ data: data })\n            if(this.state.data.length === 0){\n                this.setState({error: 'Nie znaleziono żadnej pozycji.'})\n            } else {\n                this.setState({error: ''})\n            }       \n    });\n\n    }\n    render(){\n        console.log(this.state.term)\n        console.log(this.state.data)\n        return(\n            <div>\n                <form onSubmit={(event) =>this.handleSubmit(event)}>\n                    <div className={classes.searchContainer}>\n                       <input \n                        className={`${classes2.emailInp} ${classes.searchInp}`}\n                        type=\"text\"\n                        value={this.state.term}\n                        onChange={(event)=> this.setState({term: event.target.value})}\n                       />\n\n                       <input \n                        className={classes2.emailField}\n                        value=\"szukaj\"\n                        type=\"submit\"\n                       />\n                    </div>\n                </form>\n                <div className={classes.resultsField}>\n                     <h2> {this.state.error}</h2>\n            \n\n                 {/* {this.state.data.map((poem,index)=>(\n                    <div key={index} className={classes.result}>\n                        <span>tytuł:&nbsp;<h4>{poem.title}</h4></span>\n                        <span>autor:&nbsp;<h4>{poem.author}</h4></span>\n                        <span>gatunek:&nbsp;<h5>{poem.genre}</h5></span>\n                        <span>rok publikacji:&nbsp;<h5>{poem.year}</h5></span>\n                    </div>\n                 ))} */}\n                \n                </div>\n            </div>\n        )\n    }\n}\n\nexport default SearchPoem","import React, {Component} from 'react'\nimport {Link} from 'react-router-dom'\nimport {adresse} from '../../config'\nimport classes from '../../styles/mypoems.module.scss'\nimport loading from '../../styles/app.module.scss'\nimport SearchPoem from '../../_components/SearchPoem'\nimport axios from 'axios'\nimport { useStore, useActions } from '../../store/Store'\nimport { useDispatch, useSelectors } from 'react-redux'\nclass Poems extends Component {\n\n    state={\n        isLoading: true,\n        poems: undefined,\n        poemNr: 0,\n        opacity: false,\n        panel: [false,false,false,false,false],\n        showEmpty: false\n      }\n    componentDidMount(){\n        axios.get(`${adresse}poems/al`)\n        .then(res => {\n            const poems = res.data\n            const shuffled = poems.sort(() => 0.5 - Math.random())\n            const shuffledFive = shuffled.slice(0,5)        \n            this.setState({ poems: shuffledFive }, ()=>{\n                         this.setState({isLoading: false})\n                        })\n         })\n    }\n    change(){\n        const thi = this\n        if(this.state.poemNr >=3){\n            setTimeout(function(){thi.setState({poemNr: 0})},1000)\n           this.setState({opacity: true})\n         } else{ \n             setTimeout(function(){thi.setState({poemNr: thi.state.poemNr+1})},1000)\n           this.setState({opacity: true})\n        }\n    }\n    componentDidUpdate(prevProps,prevState){\n        const thi = this\n        if(prevState.opacity !== this.state.opacity){\n            setTimeout(function(){thi.setState({opacity: false})},2000)\n        }\n    }\n    render(){\n        return (\n            <div>\n\n            <div className={classes.ContainerPoem}>\n                <div>\n                    <button className={classes.NewPoemBtn} onClick={this.state.opacity ? null : ()=>this.change()}>Przeglądaj dalej</button>\n                    {\n                        this.state.poems !== undefined ? (\n                            <div className={this.state.opacity !== true ? `${classes.Poem}` : `${classes.Poem} ${classes.Opacity}`}>\n                                <Link to={`/poemReading/${this.state.poems[this.state.poemNr].id}`}>\n                                <h3>{this.state.poems[this.state.poemNr].title}</h3>\n                                <h4>{this.state.poems[this.state.poemNr].author}</h4>\n                                </Link>\n                            </div>\n                        ) : null\n                    }\n                </div>\n            </div>\n                <SearchPoem />\n                    </div>\n        )\n    }\n}\n\n\nexport default Poems"],"sourceRoot":""}