{"version":3,"sources":["styles/mypoems.module.scss","components/MyPoems/MyPoems.js"],"names":["module","exports","MyPoems","_isMounted","state","isLoading","poems","this","url","adresse","headers","getUser","token","fetch","then","response","json","setState","style","marginTop","width","height","display","justifyContent","alignItems","className","loading","loader","classes","Frame","to","Container","map","poem","index","key","id","Item","MyPoem","title","Component"],"mappings":"wFACAA,EAAOC,QAAU,CAAC,UAAY,2BAA2B,KAAO,sBAAsB,QAAU,yBAAyB,QAAU,yBAAyB,MAAQ,uBAAuB,UAAY,2BAA2B,QAAU,yBAAyB,UAAY,2BAA2B,UAAY,2BAA2B,OAAS,wBAAwB,KAAO,sBAAsB,WAAa,4BAA4B,cAAgB,+BAA+B,iBAAmB,kCAAkC,OAAS,0B,uJCMjiBC,E,4MACFC,YAAa,E,EACbC,MAAM,CACFC,WAAW,EACXC,MAAO,I,kEAEc,IAAD,OAChBC,KAAKJ,YAAa,EAClB,IAAMK,EAAG,UAAMC,IAAN,cACHC,EAAU,CAAE,eAAgB,mBAChB,cAAiB,oBAAeC,cAAUC,QAE5DC,MAAML,EAAK,CACPE,QAASA,IAEZI,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UACxBF,MAAK,SAAAR,GACJ,EAAKW,SAAS,CAAEX,MAAOA,IACL,WAEM,EAAKW,SAAS,CAACZ,WAAW,Y,6CAO1DE,KAAKJ,YAAa,I,+BAKlB,OAA4B,IAAzBI,KAAKH,MAAMC,UAA6B,yBAAKa,MAAO,CAACC,UAAW,SAAUC,MAAO,QAASC,OAAQ,QAASC,QAAS,OAAQC,eAAgB,SAAUC,WAAY,WAAW,yBAAKC,UAAWC,IAAQC,UAElM,yBAAKF,UAAWG,IAAQC,OAExB,kBAAC,IAAD,CAAMC,GAAG,YAAW,mDACpB,yBAAKL,UAAWG,IAAQG,WAEtB,+EAECxB,KAAKH,MAAME,MAAM0B,KAAI,SAACC,EAAKC,GAAN,OAClB,kBAAC,IAAD,CAAMC,IAAKF,EAAKG,GAAIX,UAAWG,IAAQS,KAAMP,GAAE,kBAAaG,EAAKG,KACjE,yBAAKX,UAAWG,IAAQU,QACpB,2BAAG,8BAAOJ,EAAM,EAAb,MAAyBD,EAAKM,mB,GA5CnCC,aAuDPtC","file":"static/js/19.05808e5d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"mypoems_Container__33Gd_\",\"Poem\":\"mypoems_Poem__peHnm\",\"Opacity\":\"mypoems_Opacity___BPts\",\"opacity\":\"mypoems_opacity__329wk\",\"Frame\":\"mypoems_Frame__1bQ5k\",\"addAkaBtn\":\"mypoems_addAkaBtn__ZkuB-\",\"addLine\":\"mypoems_addLine__3lCU6\",\"goBackBtn\":\"mypoems_goBackBtn__1bXlS\",\"deleteBtn\":\"mypoems_deleteBtn__Sgj7X\",\"Akapit\":\"mypoems_Akapit__-AIiE\",\"Line\":\"mypoems_Line__2aOFC\",\"NewPoemBtn\":\"mypoems_NewPoemBtn__3_GoL\",\"ContainerPoem\":\"mypoems_ContainerPoem__1iUfi\",\"ContainerReading\":\"mypoems_ContainerReading__3EHwV\",\"MyPoem\":\"mypoems_MyPoem__KLae-\"};","import React,{Component} from 'react'\nimport {Link} from 'react-router-dom'\nimport {adresse} from '../../config'\nimport {getUser} from '../../services/auth'\nimport classes from '../../styles/mypoems.module.scss'\nimport loading from '../../styles/app.module.scss'\n\nclass MyPoems extends Component {\n    _isMounted = false;\n    state={\n        isLoading: true,\n        poems: []\n    }\n        componentDidMount() {\n            this._isMounted = true;\n            const url = `${adresse}poems/mine`\n            const headers = { 'Content-Type': 'application/json',\n                              'Authorization': 'Bearer ' + `${getUser().token}`\n            }\n            fetch(url, {\n                headers: headers\n              })\n            .then(response => response.json())\n              .then(poems => {            \n                this.setState({ poems: poems\n                                },()=>{\n                                    \n                                        this.setState({isLoading: false})\n                                    \n                                })\n     \n            });\n    }\n    componentWillUnmount() {\n        this._isMounted = false;\n      }\n    render(){\n    \n       \n        if(this.state.isLoading === true) { return(<div style={{marginTop: '-180px', width: '100vw', height: '100vh', display: 'flex', justifyContent: 'center', alignItems: 'center'}}><div className={loading.loader}></div></div>)}\n          return (\n              <div className={classes.Frame}>\n\n              <Link to=\"/addPoem\"><h2>Dodaj nowy wiersz!</h2></Link>\n              <div className={classes.Container}>\n                \n                <div>\n                Kliknij na tytuł, żeby edytować:\n                {this.state.poems.map((poem,index)=>(\n                    <Link key={poem.id} className={classes.Item} to={`addBody/${poem.id}`}>\n                    <div className={classes.MyPoem}>\n                        <p><span>{index+1}. </span>{poem.title}</p>\n                    </div>\n                    </Link>\n                ))}\n                </div>\n            </div>\n                </div>\n        )\n    }\n}\n\nexport default MyPoems"],"sourceRoot":""}