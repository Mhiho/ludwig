{"version":3,"sources":["styles/books.module.scss","components/Books/Books.js"],"names":["module","exports","Books","state","id","opacity","panel","nrOfBooks","loading","books","addOwnBook","isLoggedIn","props","history","push","this","getBooks","sort","Math","random","shuffled","slice","shuffledTen","setState","style","marginTop","width","height","display","justifyContent","alignItems","className","loader","classes","Container","Buttons","left","onClick","narrowLeft","right","narrowRight","Slider","Cover","to","Slide","src","adresse","coverUrl","alt","upTitle","title","upPanel","map","book","index","changeSlideCircle","activeCircle","changeSlide","Component","connect","booksState","dispatch","getAllBooks"],"mappings":"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","file":"static/js/14.6555588b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Slider\":\"books_Slider__2MA9y\",\"Slide\":\"books_Slide__3w9SK\",\"Credits\":\"books_Credits__29Kb1\",\"Description\":\"books_Description__P1rIz\",\"Buttons\":\"books_Buttons__cSqRC\",\"left\":\"books_left__1Un_s\",\"right\":\"books_right__FWvtJ\",\"slideLeft\":\"books_slideLeft__2Bc5t\",\"slideRight\":\"books_slideRight__3RaJK\",\"opacity\":\"books_opacity__1TjoB\",\"nonopacity\":\"books_nonopacity__QT6_4\",\"nopacity\":\"books_nopacity__3okSQ\",\"title\":\"books_title__MxAxl\",\"upTitle\":\"books_upTitle__2ZpsP\",\"upPanel\":\"books_upPanel__2e8ZB\",\"panel\":\"books_panel__3oqO5\",\"changeSlideCircle\":\"books_changeSlideCircle__1k6S2\",\"Cover\":\"books_Cover__18ka7\",\"activeCircle\":\"books_activeCircle__GqskM\"};","import React, { Component } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { useStore } from \"../../store/ContextAPI\";\nimport axios from \"../../axiosInstance\";\nimport { Link } from \"react-router-dom\";\nimport { adresse } from \"../../config\";\nimport classes from \"../../styles/books.module.scss\";\nimport loading from \"../../styles/app.module.scss\";\nimport { getAllBooks } from \"../../actions/BooksAction\";\nimport { isLoggedIn } from \"../../services/auth\";\n\nclass Books extends Component {\n  state = {\n    id: 0,\n    opacity: false,\n    panel: [\n      false,\n      false,\n      false,\n      false,\n      false,\n      false,\n      false,\n      false,\n      false,\n      false,\n    ],\n    nrOfBooks: 3,\n    loading: true,\n    books: [],\n  };\n\n  addOwnBook = () => {\n    if (isLoggedIn() === true) {\n      this.props.history.push(\"/addBook\");\n    } else {\n      return;\n    }\n  };\n  async componentDidMount() {\n    await this.props.getBooks();\n    const { books } = this.props;\n    const shuffled = await books.books.sort(() => 0.5 - Math.random());\n    const shuffledTen = await shuffled.slice(0, this.state.nrOfBooks);\n    this.setState(\n      {\n        books: shuffledTen,\n      },\n      () => {\n        this.setState({\n          loading: false,\n        });\n      }\n    );\n  }\n  narrowLeft() {\n    this.state.id <= 0\n      ? this.setState({ id: this.state.nrOfBooks - 1 })\n      : this.setState({ id: this.state.id - 1, opacity: false });\n  }\n  narrowRight() {\n    this.state.id >= this.state.nrOfBooks - 1\n      ? this.setState({ id: 0 })\n      : this.setState({ id: this.state.id + 1, opacity: false });\n  }\n  changeSlide(id) {\n    this.setState({ id: id });\n  }\n  render() {\n    if (this.state.loading) {\n      return (\n        <div\n          style={{\n            marginTop: \"-180px\",\n            width: \"100vw\",\n            height: \"100vh\",\n            display: \"flex\",\n            justifyContent: \"center\",\n            alignItems: \"center\",\n          }}\n        >\n          <div className={loading.loader}></div>\n        </div>\n      );\n    }\n    return (\n      <div className={classes.Container}>\n        <div className={classes.Buttons}>\n          <span className={classes.left} onClick={() => this.narrowLeft()}>\n            ←\n          </span>\n          <span className={classes.right} onClick={() => this.narrowRight()}>\n            →\n          </span>\n        </div>\n        <div>\n          <div className={classes.Slider}>\n            <div className={classes.Cover}>\n              <button onClick={() => this.addOwnBook()}>\n                Dodaj swoją książkę\n              </button>\n              <Link to={`/sample/${this.state.books[this.state.id].id}`}>\n                <img\n                  className={\n                    this.state.opacity\n                      ? `${classes.opacity} ${classes.Slide}`\n                      : `${classes.Slide}`\n                  }\n                  src={`${adresse}/${this.state.books[this.state.id].coverUrl}`}\n                  alt=\"cover\"\n                />\n                <div className={classes.upTitle}>\n                  <p className={classes.title}>\n                    {!this.state.loading\n                      ? this.state.books[this.state.id].title\n                      : null}\n                  </p>\n                </div>\n              </Link>\n              <div className={classes.upPanel}>\n                <div className={classes.panel}>\n                  {this.state.books.map((book, index) => (\n                    <span\n                      className={\n                        this.state.panel[index] === false\n                          ? `${classes.changeSlideCircle}`\n                          : `${classes.changeSlideCircle} ${classes.activeCircle}`\n                      }\n                      onClick={() => this.changeSlide(index)}\n                    >\n                      o\n                    </span>\n                  ))}\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\nconst mapStateToProps = (state) => ({\n  books: state.booksState,\n});\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    getBooks: () => dispatch(getAllBooks()),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Books);\n"],"sourceRoot":""}